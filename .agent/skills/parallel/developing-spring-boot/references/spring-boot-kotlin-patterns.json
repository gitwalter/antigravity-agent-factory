{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "id": "spring-boot-kotlin-patterns",
  "name": "Spring Boot + Kotlin Patterns",
  "title": "Spring Boot + Kotlin Patterns",
  "description": "Spring Boot with Kotlin: coroutine controllers, WebFlux integration, Kotlin DSL configuration, testing with MockK",
  "version": "1.0.0",
  "last_updated": "2026-02-10",
  "category": "java",
  "axiomAlignment": {
    "A1_verifiability": "MockK and coroutine testing enable verification of reactive flows",
    "A2_user_primacy": "Coroutine controllers and streaming prioritize responsive user experience",
    "A3_transparency": "Structured concurrency and DSL configuration provide clear behavior",
    "A4_non_harm": "Backpressure handling and exception patterns prevent resource exhaustion",
    "A5_consistency": "Unified Spring Boot plus Kotlin patterns across reactive and imperative code"
  },
  "related_skills": [
    "developing-spring-boot",
    "testing-spring-apps",
    "bdd"
  ],
  "related_knowledge": [
    "spring-patterns.json",
    "spring-microservices-patterns.json",
    "kotlin-idioms.json",
    "coroutines-patterns.json"
  ],
  "patterns": {
    "coroutine_controllers_description": {
      "description": "Suspend functions in @RestController for non-blocking request handling",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# coroutine_controllers_description pattern for spring-kotlin-patterns\n# Implement based on description: Suspend functions in @RestController for non-block...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "coroutine_controllers_code_example": {
      "description": "@RestController\nclass UserController(private val userService: UserService) {\n  @GetMapping(\"/users/{id}\")\n  suspend fun getUser(@PathVariable id: Long): User = userService.findById(id)\n}",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# coroutine_controllers_code_example pattern for spring-kotlin-patterns\n# Implement based on description: @RestController\nclass UserController(private val u...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "coroutine_controllers_when_to_use": {
      "description": "Reactive/async APIs, high concurrency, WebFlux",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# coroutine_controllers_when_to_use pattern for spring-kotlin-patterns\n# Implement based on description: Reactive/async APIs, high concurrency, WebFlux...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "coroutine_controllers_best_practices": {
      "description": "['Use suspend for I/O in controllers', 'Inject Dispatchers for tests', 'Handle exceptions with @ControllerAdvice']",
      "use_when": "See description for when to apply this pattern.",
      "code_example": "See description for when to apply this pattern.",
      "best_practices": [
        "Review and validate implementation against domain requirements",
        "Review and validate implementation against domain requirements"
      ]
    },
    "webflux_integration_description": {
      "description": "Spring WebFlux with Kotlin Flow and coroutines",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# webflux_integration_description pattern for spring-kotlin-patterns\n# Implement based on description: Spring WebFlux with Kotlin Flow and coroutines...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "webflux_integration_code_example": {
      "description": "@GetMapping(\"/users\", produces = [MediaType.APPLICATION_NDJSON_VALUE])\nfun streamUsers(): Flow<User> = userService.findAllAsFlow()",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# webflux_integration_code_example pattern for spring-kotlin-patterns\n# Implement based on description: @GetMapping(\"/users\", produces = [MediaType.APPLIC...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "webflux_integration_when_to_use": {
      "description": "Streaming responses, SSE, reactive backends",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# webflux_integration_when_to_use pattern for spring-kotlin-patterns\n# Implement based on description: Streaming responses, SSE, reactive backends...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "webflux_integration_best_practices": {
      "description": "['Use Flow for streaming', 'Configure WebClient for reactive clients', 'Handle backpressure']",
      "use_when": "See description for when to apply this pattern.",
      "code_example": "See description for when to apply this pattern.",
      "best_practices": [
        "Review and validate implementation against domain requirements",
        "Review and validate implementation against domain requirements"
      ]
    },
    "kotlin_dsl_configuration_description": {
      "description": "beans {} and route {} DSL for Spring configuration",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# kotlin_dsl_configuration_description pattern for spring-kotlin-patterns\n# Implement based on description: beans {} and route {} DSL for Spring configuration...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "kotlin_dsl_configuration_code_example": {
      "description": "@Configuration\nclass AppConfig {\n  @Bean\n  fun userService(): UserService = UserServiceImpl()\n}",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# kotlin_dsl_configuration_code_example pattern for spring-kotlin-patterns\n# Implement based on description: @Configuration\nclass AppConfig {\n  @Bean\n  fun use...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "kotlin_dsl_configuration_when_to_use": {
      "description": "Bean registration, routing, functional config",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# kotlin_dsl_configuration_when_to_use pattern for spring-kotlin-patterns\n# Implement based on description: Bean registration, routing, functional config...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "kotlin_dsl_configuration_best_practices": {
      "description": "['Use DSL for router config', 'Keep bean definitions readable', 'Leverage type inference']",
      "use_when": "See description for when to apply this pattern.",
      "code_example": "See description for when to apply this pattern.",
      "best_practices": [
        "Review and validate implementation against domain requirements",
        "Review and validate implementation against domain requirements"
      ]
    },
    "mockk_testing_description": {
      "description": "MockK for mocking in Kotlin tests; works with coroutines",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# mockk_testing_description pattern for spring-kotlin-patterns\n# Implement based on description: MockK for mocking in Kotlin tests; works with coro...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "mockk_testing_code_example": {
      "description": "@Test\nfun `getUser returns user`() = runTest {\n  coEvery { userRepository.findById(1L) } returns User(1, \"Alice\")\n  val result = userService.getUser(1L)\n  assertThat(result.name).isEqualTo(\"Alice\")\n}",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# mockk_testing_code_example pattern for spring-kotlin-patterns\n# Implement based on description: @Test\nfun `getUser returns user`() = runTest {\n  c...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "mockk_testing_when_to_use": {
      "description": "Unit tests with mocks, coroutine testing",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# mockk_testing_when_to_use pattern for spring-kotlin-patterns\n# Implement based on description: Unit tests with mocks, coroutine testing...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "mockk_testing_best_practices": {
      "description": "['Use coEvery for suspend', 'runTest for coroutine tests', 'relaxed mocks for optional calls']",
      "use_when": "See description for when to apply this pattern.",
      "code_example": "See description for when to apply this pattern.",
      "best_practices": [
        "Review and validate implementation against domain requirements",
        "Review and validate implementation against domain requirements"
      ]
    },
    "functional_routing_description": {
      "description": "RouterFunction with Kotlin DSL for route definitions",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# functional_routing_description pattern for spring-kotlin-patterns\n# Implement based on description: RouterFunction with Kotlin DSL for route definitio...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "functional_routing_code_example": {
      "description": "@Configuration\nclass RouterConfig {\n  @Bean\n  fun routes(handler: UserHandler) = router {\n    GET(\"/users\", handler::list)\n    GET(\"/users/{id}\", handler::get)\n  }\n}",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# functional_routing_code_example pattern for spring-kotlin-patterns\n# Implement based on description: @Configuration\nclass RouterConfig {\n  @Bean\n  fun ...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "functional_routing_when_to_use": {
      "description": "Functional WebFlux, clean routing",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# functional_routing_when_to_use pattern for spring-kotlin-patterns\n# Implement based on description: Functional WebFlux, clean routing...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "functional_routing_best_practices": {
      "description": "['Group routes by feature', 'Use handler::reference for methods']",
      "use_when": "See description for when to apply this pattern.",
      "code_example": "See description for when to apply this pattern.",
      "best_practices": [
        "Review and validate implementation against domain requirements",
        "Review and validate implementation against domain requirements"
      ]
    },
    "nullable_repository_description": {
      "description": "Spring Data JPA with Kotlin nullable return types",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# nullable_repository_description pattern for spring-kotlin-patterns\n# Implement based on description: Spring Data JPA with Kotlin nullable return types...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "nullable_repository_code_example": {
      "description": "interface UserRepository : JpaRepository<User, Long> {\n  fun findByName(name: String): User?\n}",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# nullable_repository_code_example pattern for spring-kotlin-patterns\n# Implement based on description: interface UserRepository : JpaRepository<User, Lon...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "nullable_repository_when_to_use": {
      "description": "Optional finders, Kotlin nullable semantics",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# nullable_repository_when_to_use pattern for spring-kotlin-patterns\n# Implement based on description: Optional finders, Kotlin nullable semantics...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "nullable_repository_best_practices": {
      "description": "['Use ? for optional returns', 'Prefer findByIdOrNull over getById when possible']",
      "use_when": "See description for when to apply this pattern.",
      "code_example": "See description for when to apply this pattern.",
      "best_practices": [
        "Review and validate implementation against domain requirements",
        "Review and validate implementation against domain requirements"
      ]
    },
    "dsl_builders_description": {
      "description": "Kotlin DSL for Gradle, Spring Security, and custom config",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# dsl_builders_description pattern for spring-kotlin-patterns\n# Implement based on description: Kotlin DSL for Gradle, Spring Security, and custom...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "dsl_builders_code_example": {
      "description": "// Spring Security DSL\nexample: http { authorizeHttpRequests { authorize(any, permitAll) } }",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# dsl_builders_code_example pattern for spring-kotlin-patterns\n# Implement based on description: // Spring Security DSL\nexample: http { authorizeHt...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "dsl_builders_when_to_use": {
      "description": "Gradle build scripts, Security config, declarative setup",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# dsl_builders_when_to_use pattern for spring-kotlin-patterns\n# Implement based on description: Gradle build scripts, Security config, declarative...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "dsl_builders_best_practices": {
      "description": "['Use @DslMarker for nested DSLs', 'Provide sensible defaults']",
      "use_when": "See description for when to apply this pattern.",
      "code_example": "See description for when to apply this pattern.",
      "best_practices": [
        "Review and validate implementation against domain requirements",
        "Review and validate implementation against domain requirements"
      ]
    }
  },
  "best_practices": [
    "Use suspend for I/O in controllers",
    "Inject Dispatchers for tests",
    "Handle exceptions with @ControllerAdvice",
    "Use Flow for streaming",
    "Configure WebClient for reactive clients",
    "Handle backpressure",
    "Use DSL for router config",
    "Keep bean definitions readable"
  ],
  "anti_patterns": [
    "Applying patterns without understanding the underlying concepts",
    "Copy-pasting solutions without adapting to specific context",
    "Over-engineering simple problems with complex patterns"
  ]
}
