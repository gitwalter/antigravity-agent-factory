{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "id": "sap-extensibility-patterns",
  "name": "SAP Extensibility Patterns",
  "title": "SAP Extensibility Patterns",
  "version": "1.0.0",
  "description": "Extensibility patterns for S/4HANA including in-app, side-by-side, and classic extensibility approaches",
  "category": "sap",
  "last_updated": "2026-02-09",
  "axiomAlignment": {
    "A1_verifiability": "Upgrade testing and extension documentation enable verifiable extensions",
    "A2_user_primacy": "In-app, side-by-side, and API consumption serve customer needs",
    "A3_transparency": "Clean Core principles and extension points make dependencies explicit",
    "A4_non_harm": "Avoiding modifications preserves upgradeability and prevents breakage",
    "A5_consistency": "Unified patterns for in-app, CAP, RAP, and classic extensibility"
  },
  "related_skills": [
    "rap-development",
    "fiori-development",
    "cds-modeling",
    "btp-deployment",
    "integrating-sap-systems"
  ],
  "related_knowledge": [
    "sap-rap-patterns.json",
    "sap-fiori-patterns.json",
    "sap-btp-patterns.json",
    "sap-event-mesh.json"
  ],
  "patterns": {
    "extensibility-in-app-custom-fields": {
      "id": "extensibility-in-app-custom-fields",
      "name": "In-App Custom Fields Pattern",
      "description": "Add custom fields to standard SAP objects",
      "scenario": "Additional fields needed",
      "code": {
        "custom_field": "Use SAP Fiori App:\n- Custom Fields and Logic\n- Add custom fields\n- Configure field properties\n- No coding required"
      },
      "use_when": "When Additional fields needed",
      "code_example": "Use SAP Fiori App:\n- Custom Fields and Logic\n- Add custom fields\n- Configure field properties\n- No coding required",
      "best_practices": [
        "Use in-app extensibility for simple fields",
        "No coding required",
        "Upgrade-safe",
        "Use for business user extensions"
      ]
    },
    "extensibility-in-app-custom-logic": {
      "id": "extensibility-in-app-custom-logic",
      "name": "In-App Custom Logic Pattern",
      "description": "Add custom logic using key user tools",
      "scenario": "Simple business logic",
      "code": {
        "custom_logic": "Use SAP Fiori App:\n- Custom Fields and Logic\n- Add custom validations\n- Add custom determinations\n- Use expression builder"
      },
      "use_when": "When Simple business logic",
      "code_example": "Use SAP Fiori App:\n- Custom Fields and Logic\n- Add custom validations\n- Add custom determinations\n- Use expression builder",
      "best_practices": [
        "Use for simple logic",
        "No coding required",
        "Upgrade-safe",
        "Use expression builder"
      ]
    },
    "extensibility-side-by-side-cap": {
      "id": "extensibility-side-by-side-cap",
      "name": "Side-by-Side CAP Pattern",
      "description": "Build extensions using CAP framework",
      "scenario": "Complex extensions, new applications",
      "code": {
        "cap": "Create CAP application:\n- CDS data model\n- Service definitions\n- Custom handlers\n- Deploy to BTP"
      },
      "use_when": "When Complex extensions, new applications",
      "code_example": "Create CAP application:\n- CDS data model\n- Service definitions\n- Custom handlers\n- Deploy to BTP",
      "best_practices": [
        "Use CAP for new applications",
        "Deploy to BTP",
        "Consume S/4HANA APIs",
        "Follow CAP best practices"
      ]
    },
    "extensibility-side-by-side-rap": {
      "id": "extensibility-side-by-side-rap",
      "name": "Side-by-Side RAP Pattern",
      "description": "Build extensions using RAP",
      "scenario": "ABAP Cloud extensions",
      "code": {
        "rap": "Create RAP extension:\n- CDS views\n- Behavior definitions\n- Custom logic\n- Deploy to BTP ABAP"
      },
      "use_when": "When ABAP Cloud extensions",
      "code_example": "Create RAP extension:\n- CDS views\n- Behavior definitions\n- Custom logic\n- Deploy to BTP ABAP",
      "best_practices": [
        "Use RAP for ABAP extensions",
        "Deploy to BTP ABAP",
        "Consume S/4HANA APIs",
        "Follow ABAP Cloud restrictions"
      ]
    },
    "extensibility-classic-badi": {
      "id": "extensibility-classic-badi",
      "name": "Classic BAdI Pattern",
      "description": "Use Business Add-Ins for extensions",
      "scenario": "On-premise S/4HANA",
      "code": {
        "badi": "Implement BAdI:\n- Find enhancement spot\n- Implement BAdI interface\n- Add custom logic\n- Activate implementation"
      },
      "use_when": "When On-premise S/4HANA",
      "code_example": "Implement BAdI:\n- Find enhancement spot\n- Implement BAdI interface\n- Add custom logic\n- Activate implementation",
      "best_practices": [
        "Use BAdIs for on-premise",
        "Find appropriate enhancement spot",
        "Implement interface properly",
        "Test thoroughly"
      ]
    },
    "extensibility-classic-enhancement-spots": {
      "id": "extensibility-classic-enhancement-spots",
      "name": "Enhancement Spots Pattern",
      "description": "Use enhancement spots for extensions",
      "scenario": "On-premise S/4HANA",
      "code": {
        "enhancement": "Use enhancement spots:\n- Find enhancement spot\n- Create enhancement implementation\n- Add custom code\n- Activate"
      },
      "use_when": "When On-premise S/4HANA",
      "code_example": "Use enhancement spots:\n- Find enhancement spot\n- Create enhancement implementation\n- Add custom code\n- Activate",
      "best_practices": [
        "Use for on-premise only",
        "Find appropriate spots",
        "Document enhancements",
        "Test thoroughly"
      ]
    },
    "extensibility-clean-core-principles": {
      "id": "extensibility-clean-core-principles",
      "name": "Clean Core Principles Pattern",
      "description": "Follow clean core principles",
      "scenario": "All extensions",
      "code": {
        "principles": "Clean Core Principles:\n1. No modifications to standard code\n2. Use extensibility options\n3. Prefer side-by-side\n4. Use in-app when possible\n5. Minimize classic extensions"
      },
      "use_when": "When All extensions",
      "code_example": "Clean Core Principles:\n1. No modifications to standard code\n2. Use extensibility options\n3. Prefer side-by-side\n4. Use in-app when possible\n5. Minimize classic extensions",
      "best_practices": [
        "Never modify standard code",
        "Use extensibility options",
        "Prefer side-by-side",
        "Use in-app for simple cases",
        "Minimize classic extensions"
      ]
    },
    "extensibility-api-consumption": {
      "id": "extensibility-api-consumption",
      "name": "API Consumption Pattern",
      "description": "Consume S/4HANA APIs",
      "scenario": "Side-by-side extensions",
      "code": {
        "api": "Consume S/4HANA APIs:\n- OData services\n- REST APIs\n- SOAP services\n- Use destination service"
      },
      "use_when": "When Side-by-side extensions",
      "code_example": "Consume S/4HANA APIs:\n- OData services\n- REST APIs\n- SOAP services\n- Use destination service",
      "best_practices": [
        "Use OData V4",
        "Use destination service",
        "Handle errors properly",
        "Cache when appropriate"
      ]
    },
    "extensibility-event-consumption": {
      "id": "extensibility-event-consumption",
      "name": "Event Consumption Pattern",
      "description": "Consume S/4HANA business events",
      "scenario": "Event-driven extensions",
      "code": {
        "events": "Consume events:\n- Subscribe to Event Mesh\n- Handle CloudEvents\n- Process events\n- Update extension data"
      },
      "use_when": "When Event-driven extensions",
      "code_example": "Consume events:\n- Subscribe to Event Mesh\n- Handle CloudEvents\n- Process events\n- Update extension data",
      "best_practices": [
        "Use Event Mesh",
        "Handle CloudEvents format",
        "Implement idempotency",
        "Handle errors gracefully"
      ]
    },
    "extensibility-ui-extensions": {
      "id": "extensibility-ui-extensions",
      "name": "UI Extensions Pattern",
      "description": "Extend Fiori UIs This pattern supports SAP UI Extensions Pattern integration and implementation.",
      "scenario": "UI customizations",
      "code": {
        "ui": "Extend Fiori UIs:\n- Page extensions\n- Field extensions\n- Action extensions\n- Use Fiori Tools"
      },
      "use_when": "When UI customizations",
      "code_example": "Extend Fiori UIs:\n- Page extensions\n- Field extensions\n- Action extensions\n- Use Fiori Tools",
      "best_practices": [
        "Use Fiori Tools",
        "Extend, don't modify",
        "Test UI extensions",
        "Follow Fiori guidelines"
      ]
    },
    "extensibility-custom-cds-views": {
      "id": "extensibility-custom-cds-views",
      "name": "Custom CDS Views Pattern",
      "description": "Create custom CDS views",
      "scenario": "Data model extensions",
      "code": {
        "cds": "Create custom CDS views:\n- Extend standard views\n- Add custom fields\n- Create new views\n- Use associations"
      },
      "use_when": "When Data model extensions",
      "code_example": "Create custom CDS views:\n- Extend standard views\n- Add custom fields\n- Create new views\n- Use associations",
      "best_practices": [
        "Extend standard views",
        "Use associations",
        "Follow naming conventions",
        "Document custom views"
      ]
    },
    "extensibility-custom-actions": {
      "id": "extensibility-custom-actions",
      "name": "Custom Actions Pattern",
      "description": "Add custom actions to RAP BOs",
      "scenario": "Custom business operations",
      "code": {
        "action": "Add custom actions:\n- Define in BDEF\n- Implement in behavior pool\n- Expose in service\n- Use in Fiori"
      },
      "use_when": "When Custom business operations",
      "code_example": "Add custom actions:\n- Define in BDEF\n- Implement in behavior pool\n- Expose in service\n- Use in Fiori",
      "best_practices": [
        "Use actions for custom operations",
        "Implement properly",
        "Handle errors",
        "Test thoroughly"
      ]
    },
    "extensibility-field-extensions": {
      "id": "extensibility-field-extensions",
      "name": "Field Extensions Pattern",
      "description": "Extend standard fields",
      "scenario": "Additional field properties",
      "code": {
        "field": "Extend fields:\n- Add custom annotations\n- Extend value helps\n- Add custom validations\n- Use metadata extensions"
      },
      "use_when": "When Additional field properties",
      "code_example": "Extend fields:\n- Add custom annotations\n- Extend value helps\n- Add custom validations\n- Use metadata extensions",
      "best_practices": [
        "Use metadata extensions",
        "Extend annotations",
        "Add value helps",
        "Test field extensions"
      ]
    },
    "extensibility-custom-entities": {
      "id": "extensibility-custom-entities",
      "name": "Custom Entities Pattern",
      "description": "Create custom entities",
      "scenario": "New business objects",
      "code": {
        "entity": "Create custom entities:\n- CDS data model\n- Behavior definition\n- Service exposure\n- Fiori app"
      },
      "use_when": "When New business objects",
      "code_example": "Create custom entities:\n- CDS data model\n- Behavior definition\n- Service exposure\n- Fiori app",
      "best_practices": [
        "Use custom entities for new objects",
        "Follow RAP patterns",
        "Expose via service",
        "Create Fiori app"
      ]
    },
    "extensibility-upgrade-safety": {
      "id": "extensibility-upgrade-safety",
      "name": "Upgrade Safety Pattern",
      "description": "Ensure extensions survive upgrades",
      "scenario": "All extensions",
      "code": {
        "upgrade": "Ensure upgrade safety:\n- Use extensibility options\n- Avoid modifications\n- Test after upgrades\n- Document dependencies"
      },
      "use_when": "When All extensions",
      "code_example": "Ensure upgrade safety:\n- Use extensibility options\n- Avoid modifications\n- Test after upgrades\n- Document dependencies",
      "best_practices": [
        "Use extensibility options",
        "Avoid modifications",
        "Test after upgrades",
        "Document dependencies"
      ]
    },
    "extensibility-extension-points": {
      "id": "extensibility-extension-points",
      "name": "Extension Points Pattern",
      "description": "Use predefined extension points",
      "scenario": "Standard extension scenarios",
      "code": {
        "extension_point": "Use extension points:\n- Find extension points\n- Implement extensions\n- Activate\n- Test"
      },
      "use_when": "When Standard extension scenarios",
      "code_example": "Use extension points:\n- Find extension points\n- Implement extensions\n- Activate\n- Test",
      "best_practices": [
        "Use predefined points",
        "Follow documentation",
        "Test thoroughly",
        "Document extensions"
      ]
    },
    "extensibility-custom-reports": {
      "id": "extensibility-custom-reports",
      "name": "Custom Reports Pattern",
      "description": "Create custom reports",
      "scenario": "Reporting requirements",
      "code": {
        "report": "Create custom reports:\n- CDS views\n- Analytical annotations\n- Fiori Elements\n- Deploy to BTP"
      },
      "use_when": "When Reporting requirements",
      "code_example": "Create custom reports:\n- CDS views\n- Analytical annotations\n- Fiori Elements\n- Deploy to BTP",
      "best_practices": [
        "Use CDS for reports",
        "Add analytical annotations",
        "Use Fiori Elements",
        "Deploy to BTP"
      ]
    },
    "extensibility-integration-extensions": {
      "id": "extensibility-integration-extensions",
      "name": "Integration Extensions Pattern",
      "description": "Extend integration scenarios",
      "scenario": "Integration customizations",
      "code": {
        "integration": "Extend integrations:\n- Custom mappings\n- Custom transformations\n- Custom validations\n- Use CPI"
      },
      "use_when": "When Integration customizations",
      "code_example": "Extend integrations:\n- Custom mappings\n- Custom transformations\n- Custom validations\n- Use CPI",
      "best_practices": [
        "Use CPI for integrations",
        "Custom mappings",
        "Handle errors",
        "Test thoroughly"
      ]
    },
    "extensibility-workflow-extensions": {
      "id": "extensibility-workflow-extensions",
      "name": "Workflow Extensions Pattern",
      "description": "Extend workflows This pattern supports SAP Workflow Extensions Pattern integration and implementation.",
      "scenario": "Process customizations",
      "code": {
        "workflow": "Extend workflows:\n- Custom workflow steps\n- Custom conditions\n- Custom actions\n- Use Workflow service"
      },
      "use_when": "When Process customizations",
      "code_example": "Extend workflows:\n- Custom workflow steps\n- Custom conditions\n- Custom actions\n- Use Workflow service",
      "best_practices": [
        "Use Workflow service",
        "Custom steps",
        "Test workflows",
        "Document customizations"
      ]
    },
    "extensibility-migration-strategy": {
      "id": "extensibility-migration-strategy",
      "name": "Migration Strategy Pattern",
      "description": "Migrate from classic to clean core",
      "scenario": "System modernization",
      "code": {
        "migration": "Migration strategy:\n1. Identify modifications\n2. Find extensibility alternatives\n3. Migrate gradually\n4. Test thoroughly\n5. Remove modifications"
      },
      "use_when": "When System modernization",
      "code_example": "Migration strategy:\n1. Identify modifications\n2. Find extensibility alternatives\n3. Migrate gradually\n4. Test thoroughly\n5. Remove modifications",
      "best_practices": [
        "Plan migration",
        "Migrate gradually",
        "Test thoroughly",
        "Remove modifications"
      ]
    },
    "extensibility-testing-extensions": {
      "id": "extensibility-testing-extensions",
      "name": "Testing Extensions Pattern",
      "description": "Test extensions properly",
      "scenario": "All extensions",
      "code": {
        "testing": "Test extensions:\n- Unit tests\n- Integration tests\n- Upgrade tests\n- Performance tests"
      },
      "use_when": "When All extensions",
      "code_example": "Test extensions:\n- Unit tests\n- Integration tests\n- Upgrade tests\n- Performance tests",
      "best_practices": [
        "Test all extensions",
        "Test upgrade scenarios",
        "Test performance",
        "Automate testing"
      ]
    },
    "extensibility-documentation": {
      "id": "extensibility-documentation",
      "name": "Extension Documentation Pattern",
      "description": "Document extensions This pattern supports SAP Extension Documentation Pattern integration and implementation.",
      "scenario": "All extensions",
      "code": {
        "documentation": "Document:\n- Extension purpose\n- Technical details\n- Dependencies\n- Upgrade impact"
      },
      "use_when": "When All extensions",
      "code_example": "Document:\n- Extension purpose\n- Technical details\n- Dependencies\n- Upgrade impact",
      "best_practices": [
        "Document all extensions",
        "Include technical details",
        "Document dependencies",
        "Update after changes"
      ]
    },
    "extensibility-version-management": {
      "id": "extensibility-version-management",
      "name": "Version Management Pattern",
      "description": "Manage extension versions",
      "scenario": "All extensions",
      "code": {
        "versioning": "Version management:\n- Use semantic versioning\n- Tag releases\n- Document changes\n- Maintain changelog"
      },
      "use_when": "When All extensions",
      "code_example": "Version management:\n- Use semantic versioning\n- Tag releases\n- Document changes\n- Maintain changelog",
      "best_practices": [
        "Use semantic versioning",
        "Tag releases",
        "Document changes",
        "Maintain changelog"
      ]
    },
    "extensibility-deployment": {
      "id": "extensibility-deployment",
      "name": "Extension Deployment Pattern",
      "description": "Deploy extensions This pattern supports SAP Extension Deployment Pattern integration and implementation.",
      "scenario": "All extensions",
      "code": {
        "deployment": "Deploy extensions:\n- Use transport requests\n- Deploy to BTP\n- Use CI/CD\n- Test in dev first"
      },
      "use_when": "When All extensions",
      "code_example": "Deploy extensions:\n- Use transport requests\n- Deploy to BTP\n- Use CI/CD\n- Test in dev first",
      "best_practices": [
        "Use transport requests",
        "Deploy to BTP",
        "Test in dev first"
      ]
    }
  },
  "extensibilityTypes": {
    "inApp": {
      "description": "In-app extensibility using key user tools",
      "useCases": [
        "Custom fields",
        "Simple custom logic",
        "UI customizations"
      ],
      "tools": [
        "Custom Fields and Logic app",
        "Fiori Tools"
      ],
      "upgradeSafe": true
    },
    "sideBySide": {
      "description": "Side-by-side extensions on BTP",
      "useCases": [
        "New applications",
        "Complex logic",
        "External integrations"
      ],
      "tools": [
        "CAP",
        "RAP",
        "BTP services"
      ],
      "upgradeSafe": true
    },
    "classic": {
      "description": "Classic extensibility (on-premise only)",
      "useCases": [
        "BAdIs",
        "Enhancement spots",
        "User exits"
      ],
      "tools": [
        "ABAP Workbench",
        "Enhancement Framework"
      ],
      "upgradeSafe": false
    }
  },
  "best_practices": [
    "Follow Clean Core principles",
    "Prefer in-app extensibility for simple cases",
    "Use side-by-side for complex extensions",
    "Minimize classic extensions",
    "Never modify standard code",
    "Use extensibility options",
    "Test extensions thoroughly",
    "Document all extensions",
    "Plan for upgrades",
    "Use API consumption",
    "Consume business events",
    "Deploy to BTP"
  ],
  "anti_patterns": [
    {
      "name": "Modifying standard code",
      "problem": "Not upgrade-safe, maintenance issues",
      "fix": "Use extensibility options instead"
    },
    {
      "name": "Using classic extensions when side-by-side would work",
      "problem": "Not upgrade-safe, complexity",
      "fix": "Use side-by-side extensions on BTP"
    },
    {
      "name": "Not testing after upgrades",
      "problem": "Extensions may break",
      "fix": "Always test extensions after upgrades"
    },
    {
      "name": "Missing documentation",
      "problem": "Difficult to maintain",
      "fix": "Document all extensions"
    }
  ]
}
