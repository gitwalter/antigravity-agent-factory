{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "id": "best-practices",
  "name": "Best Practices",
  "title": "Best Practices",
  "description": "Cross-stack best practices for Cursor agent systems",
  "version": "1.0.0",
  "category": "core",
  "agentDesign": {
    "principles": [
      {
        "name": "Single Responsibility",
        "description": "Each agent should have one clear purpose",
        "examples": [
          "Code Reviewer reviews code",
          "Test Generator creates tests"
        ]
      },
      {
        "name": "Skill Composition",
        "description": "Agents should delegate to reusable skills",
        "examples": [
          "Agent uses grounding skill for data verification"
        ]
      },
      {
        "name": "Knowledge Reference",
        "description": "Use structured JSON knowledge files for reference data",
        "examples": [
          "naming-conventions.json",
          "object-types.json"
        ]
      },
      {
        "name": "Clear Activation",
        "description": "Document when each agent should be activated",
        "examples": [
          "When Jira ticket mentioned",
          "After implementation complete"
        ]
      }
    ],
    "frontmatter": {
      "required": [
        "name",
        "description",
        "type"
      ],
      "optional": [
        "skills",
        "knowledge",
        "model",
        "is_background",
        "readonly"
      ],
      "example": {
        "name": "agent-name",
        "description": "What this agent does",
        "type": "agent",
        "skills": [
          "skill-1",
          "skill-2"
        ],
        "knowledge": [
          "file.json"
        ]
      }
    }
  },
  "skillDesign": {
    "principles": [
      {
        "name": "Reusability",
        "description": "Skills should be reusable across multiple agents",
        "examples": [
          "Grounding skill used by bugfix and feature workflows"
        ]
      },
      {
        "name": "Clear Process",
        "description": "Document step-by-step process with clear outputs",
        "examples": [
          "Step 1: Read ticket \u2192 Step 2: Analyze \u2192 Step 3: Plan"
        ]
      },
      {
        "name": "Fallback Procedures",
        "description": "Define what to do when things go wrong",
        "examples": [
          "If ticket fetch fails \u2192 Ask user for details"
        ]
      },
      {
        "name": "Reference Documentation",
        "description": "Include references folder for detailed documentation",
        "examples": [
          "references/common-patterns.md"
        ]
      }
    ],
    "structure": {
      "required": [
        "SKILL.md"
      ],
      "optional": [
        "references/"
      ],
      "frontmatter": [
        "name",
        "description",
        "type",
        "skills",
        "knowledge",
        "templates"
      ]
    }
  },
  "knowledgeFiles": {
    "principles": [
      {
        "name": "Structured JSON",
        "description": "Use JSON for machine-readable reference data",
        "examples": [
          "naming-conventions.json",
          "service-catalog.json"
        ]
      },
      {
        "name": "Schema Validation",
        "description": "Include $schema for validation",
        "examples": [
          "$schema: http://json-schema.org/draft-07/schema#"
        ]
      },
      {
        "name": "Query Patterns",
        "description": "Document how to query the data",
        "examples": [
          "tables['{TABLE_NAME}']",
          "conventions.variables"
        ]
      }
    ],
    "naming": {
      "pattern": "kebab-case.json",
      "examples": [
        "naming-conventions.json",
        "object-types.json",
        "service-catalog.json"
      ]
    }
  },
  "cursorrules": {
    "sections": [
      {
        "name": "Project Context",
        "purpose": "Describe project and environment"
      },
      {
        "name": "Configuration Variables",
        "purpose": "Define configurable values"
      },
      {
        "name": "Available Agents",
        "purpose": "List agents and activation triggers"
      },
      {
        "name": "Available Skills",
        "purpose": "List skills and purposes"
      },
      {
        "name": "Autonomous Behavior Rules",
        "purpose": "Define agent behaviors"
      },
      {
        "name": "Variable Notation",
        "purpose": "Define placeholder conventions"
      },
      {
        "name": "Error Handling",
        "purpose": "Define fallback procedures"
      }
    ],
    "variableNotation": {
      "format": "{VARIABLE_NAME}",
      "case": "UPPER_SNAKE_CASE",
      "examples": [
        "{PROJECT_NAME}",
        "{CLASS_NAME}",
        "{TICKET_ID}"
      ]
    }
  },
  "workflowDesign": {
    "principles": [
      {
        "name": "Clear Trigger",
        "description": "Define what initiates the workflow",
        "examples": [
          "Jira ticket mention",
          "Confluence page reference"
        ]
      },
      {
        "name": "Step-by-Step",
        "description": "Document each phase with actions and outputs",
        "examples": [
          "Phase 1: Read \u2192 Phase 2: Analyze \u2192 Phase 3: Plan"
        ]
      },
      {
        "name": "Artifacts",
        "description": "Define what artifacts are produced",
        "examples": [
          "implementation_plan.md",
          "code changes",
          "test cases"
        ]
      },
      {
        "name": "Fallbacks",
        "description": "Handle failure scenarios gracefully",
        "examples": [
          "If source not found \u2192 Provide manual copy instructions"
        ]
      }
    ]
  },
  "templateDesign": {
    "principles": [
      {
        "name": "Consistent Variables",
        "description": "Use consistent placeholder naming",
        "examples": [
          "{CLASS_NAME}",
          "{METHOD_NAME}",
          "{DESCRIPTION}"
        ]
      },
      {
        "name": "Style Variants",
        "description": "Support multiple coding styles when applicable",
        "examples": [
          "clean-abap/",
          "hungarian/"
        ]
      },
      {
        "name": "Complete Examples",
        "description": "Templates should be functional when variables are replaced",
        "examples": [
          "Complete class definition, not snippets"
        ]
      }
    ],
    "organization": {
      "codeTemplates": "{directories.templates}/{language}/{category}/",
      "documentTemplates": "{directories.templates}/docs/",
      "promptTemplates": "{directories.templates}/prompts/"
    }
  },
  "projectStructure": {
    "standard": {
      "directories": [
        {
          "{directories.agents}/": "AI agent definitions"
        },
        {
          "{directories.skills}/": "Reusable skill definitions"
        },
        {
          "{directories.knowledge}/": "Structured reference data (JSON)"
        },
        {
          "{directories.templates}/": "Code and document templates"
        },
        {
          "{directories.workflows}/": "Workflow documentation"
        },
        {
          "{directories.scripts}/": "Utility scripts"
        },
        {
          "diagrams/": "Architecture diagrams"
        },
        {
          "{directories.docs}/": "User documentation"
        },
        {
          "src/": "Source code (user-created)"
        }
      ],
      "files": [
        {
          ".cursorrules": "LLM agent behavior instructions"
        },
        {
          "README.md": "Project documentation"
        }
      ]
    }
  },
  "namingConventions": {
    "agents": {
      "pattern": "{agent-name}.md",
      "case": "kebab-case",
      "examples": [
        "code-reviewer.md",
        "test-generator.md"
      ]
    },
    "skills": {
      "pattern": "{skill-name}/SKILL.md",
      "case": "kebab-case",
      "examples": [
        "bugfix-workflow/SKILL.md",
        "code-templates/SKILL.md"
      ]
    },
    "knowledge": {
      "pattern": "{topic}.json",
      "case": "kebab-case",
      "examples": [
        "naming-conventions.json",
        "object-types.json"
      ]
    },
    "workflows": {
      "pattern": "{workflow-name}.md",
      "case": "kebab-case",
      "examples": [
        "bugfix-resolution.md",
        "feature-development.md"
      ]
    },
    "documentation": {
      "pattern": "{doc-name}.md",
      "case": "kebab-case",
      "uppercaseExceptions": [
        "README.md",
        "CHANGELOG.md",
        "SKILL.md",
        "PURPOSE.md"
      ],
      "examples": [
        "test-catalog.md",
        "bundle-catalog.md",
        "index.md"
      ]
    }
  },
  "patterns": {
    "general_description": {
      "description": "Cross-stack best practices for Cursor agent systems",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# general_description pattern for best-practices\n# Implement based on description: Cross-stack best practices for Cursor agent system...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    },
    "general_usage": {
      "description": "See detailed sections below",
      "use_when": "Apply when implementing this pattern in your domain context",
      "code_example": "# general_usage pattern for best-practices\n# Implement based on description: See detailed sections below...",
      "best_practices": [
        "Validate implementation against domain requirements",
        "Document the pattern usage and rationale in code"
      ]
    }
  },
  "best_practices": [
    "Use consistent naming conventions across all project artifacts (agents, skills, knowledge files, workflows)",
    "Document agent activation triggers clearly in agent frontmatter to prevent unintended activations",
    "Keep knowledge files structured with JSON schema validation for machine-readability",
    "Design skills to be reusable across multiple agents rather than agent-specific implementations",
    "Maintain clear separation between Factory components and project-specific components",
    "Use version registries to track dependencies and ensure compatibility across the system",
    "Validate all JSON knowledge files after modifications to catch schema violations early",
    "Follow the artifact dependency map when creating or modifying Factory components to keep documentation in sync"
  ],
  "anti_patterns": [
    {
      "name": "God Agent",
      "problem": "Creating agents that handle too many responsibilities, violating single responsibility principle",
      "fix": "Break down into specialized agents with clear, focused purposes. Use skill composition for shared functionality"
    },
    {
      "name": "Knowledge File Sprawl",
      "problem": "Creating knowledge files without updating manifest.json or documentation, leading to orphaned references",
      "fix": "Always update manifest.json, artifact-dependencies.json, and relevant documentation when creating knowledge files"
    },
    {
      "name": "Hardcoded Stack Assumptions",
      "problem": "Writing skills or agents that assume specific technology stacks, reducing reusability",
      "fix": "Use stack-agnostic patterns where possible, or clearly document stack-specific requirements in skill metadata"
    },
    {
      "name": "Circular Dependency Chains",
      "problem": "Creating dependency cycles between knowledge files, agents, or skills that break resolution order",
      "fix": "Validate dependency graph for cycles before committing. Use dependency-graph.json to visualize relationships"
    },
    {
      "name": "Placeholder Anti-Patterns",
      "problem": "Leaving generic placeholder content in best_practices or anti_patterns fields instead of domain-specific guidance",
      "fix": "Replace placeholders with actionable, context-specific best practices and real anti-patterns from experience"
    }
  ],
  "axiomAlignment": {
    "A1_verifiability": "All patterns include verifiable examples and test approaches",
    "A2_user_primacy": "Patterns prioritize user needs and practical outcomes",
    "A3_transparency": "Pattern selection rationale is clearly documented",
    "A4_non_harm": "Patterns include safety considerations and error handling",
    "A5_consistency": "Patterns follow established conventions and standards"
  },
  "related_skills": [
    "none"
  ],
  "related_knowledge": [
    "best-practices.json"
  ]
}