{
  "metadata": {
    "blueprintId": "ai-observability-platform",
    "blueprintName": "AI Observability Platform Blueprint",
    "description": "Comprehensive observability platform for AI systems with tracing, monitoring, evaluation, and performance tracking",
    "version": "1.0.0",
    "author": "Antigravity Agent Factory",
    "tags": [
      "python",
      "observability",
      "monitoring",
      "tracing",
      "mlops",
      "llm-ops",
      "langfuse",
      "phoenix",
      "mlflow",
      "wandb"
    ],
    "purpose": "Enable comprehensive observability for AI systems including LLM applications, ML models, and agent workflows with tracing, monitoring, evaluation, and performance tracking"
  },
  "stack": {
    "primaryLanguage": "python",
    "frameworks": [
      {
        "name": "langfuse",
        "version": "2.0+",
        "purpose": "LLM observability and prompt management"
      },
      {
        "name": "arize-phoenix",
        "version": "3.0+",
        "purpose": "LLM and ML observability platform"
      },
      {
        "name": "mlflow",
        "version": "2.0+",
        "purpose": "ML experiment tracking and model registry"
      },
      {
        "name": "weights-biases",
        "version": "0.16+",
        "purpose": "Experiment tracking and visualization",
        "packageName": "wandb"
      },
      {
        "name": "langsmith",
        "version": "0.1+",
        "purpose": "LangChain observability and debugging",
        "optional": true
      },
      {
        "name": "opentelemetry",
        "version": "1.20+",
        "purpose": "Distributed tracing and metrics",
        "optional": true
      },
      {
        "name": "FastAPI",
        "version": "0.133+",
        "purpose": "API for observability dashboards",
        "optional": true
      },
      {
        "name": "Pydantic",
        "version": "2.12+",
        "purpose": "Data validation for observability events"
      }
    ],
    "databases": [
      {
        "type": "sql",
        "name": "PostgreSQL",
        "purpose": "Observability data storage",
        "optional": true
      },
      {
        "type": "sql",
        "name": "SQLite",
        "purpose": "Development/local storage"
      }
    ],
    "tools": [
      {
        "name": "pytest",
        "purpose": "Testing"
      },
      {
        "name": "ruff",
        "purpose": "Linting"
      },
      {
        "name": "black",
        "purpose": "Formatting"
      },
      {
        "name": "mypy",
        "purpose": "Type checking"
      }
    ],
    "styleGuides": [
      {
        "name": "pep8",
        "description": "PEP 8 Style Guide",
        "reference": "https://pep8.org"
      },
      {
        "name": "google",
        "description": "Google Python Style",
        "reference": "https://google.github.io/styleguide/pyguide.html"
      }
    ]
  },
  "agents": [
    {
      "patternId": "code-reviewer",
      "required": true,
      "customizations": {
        "skills": [
          "clean-code-review",
          "grounding"
        ]
      }
    },
    {
      "patternId": "test-generator",
      "required": true,
      "customizations": {
        "skills": [
          "tdd",
          "bdd"
        ]
      }
    },
    {
      "patternId": "documentation-agent",
      "required": true,
      "description": "Document observability patterns and configurations"
    },
    {
      "patternId": "knowledge-extender",
      "required": true,
      "description": "Extend knowledge base during development"
    },
    {
      "patternId": "knowledge-evolution",
      "required": true,
      "description": "Manage and evolve project knowledge independently"
    },
    {
      "patternId": "factory-updates",
      "required": true,
      "description": "Receive updates from the Antigravity Agent Factory"
    },
    {
      "patternId": "explorer",
      "required": false
    },
    {
      "patternId": "debug-conductor-project",
      "required": false,
      "description": "Autonomous debugging agent for CI/CD and test failures"
    }
  ],
  "skills": [
    {
      "patternId": "bugfix-workflow",
      "required": true
    },
    {
      "patternId": "feature-workflow",
      "required": true
    },
    {
      "patternId": "grounding",
      "required": true
    },
    {
      "patternId": "grounding-verification",
      "required": true,
      "default": true,
      "description": "Two-pass verification for LLM grounding and factual claims"
    },
    {
      "patternId": "alignment-check",
      "required": true,
      "default": true,
      "description": "Verify understanding before major implementations"
    },
    {
      "patternId": "research-first-project",
      "required": true,
      "default": true,
      "description": "Research existing solutions before building"
    },
    {
      "patternId": "tdd",
      "required": true,
      "default": true
    },
    {
      "patternId": "bdd",
      "required": false,
      "default": false,
      "description": "Optional BDD for stakeholder collaboration"
    },
    {
      "patternId": "test-translation",
      "required": false,
      "default": false,
      "description": "Translation and traceability between BDD/TDD"
    },
    {
      "patternId": "code-templates",
      "required": true
    },
    {
      "patternId": "extend-knowledge",
      "required": true,
      "description": "Extend knowledge base with new topics"
    },
    {
      "patternId": "receive-updates",
      "required": true,
      "description": "Receive updates from Factory"
    },
    {
      "patternId": "ci-monitor-project",
      "required": false,
      "default": true,
      "description": "Monitor CI/CD pipelines with automatic error detection"
    },
    {
      "patternId": "pipeline-error-fix-project",
      "required": false,
      "default": true,
      "description": "Systematic pipeline error detection and fixing"
    }
  ],
  "testingApproach": {
    "modes": [
      "tdd-only",
      "bdd-only",
      "layered",
      "bdd-drives-tdd",
      "tdd-documents-bdd",
      "synchronized"
    ],
    "default": "tdd-only",
    "frameworks": {
      "tdd": "pytest",
      "bdd": "behave",
      "bddAlternative": "pytest-bdd"
    },
    "modeDescriptions": {
      "tdd-only": "Unit tests only - developer-focused",
      "bdd-only": "Feature files only - stakeholder-focused",
      "layered": "Both TDD and BDD - test pyramid",
      "bdd-drives-tdd": "Scenarios generate test stubs - outside-in",
      "tdd-documents-bdd": "Tests generate feature files - legacy docs",
      "synchronized": "Bidirectional sync - single source of truth"
    },
    "translation": {
      "bddToTdd": {
        "enabled": false,
        "template": "templates/translation/generated-test-python.py.tmpl"
      },
      "tddToBdd": {
        "enabled": false,
        "template": "templates/translation/generated-feature.feature.tmpl"
      }
    },
    "traceability": {
      "enabled": false,
      "reportTemplate": "templates/translation/traceability-report.md.tmpl"
    }
  },
  "knowledge": [
    {
      "filename": "mlops-patterns.json",
      "description": "MLOps patterns including experiment tracking and monitoring"
    },
    {
      "filename": "llm-evaluation-patterns.json",
      "description": "LLM evaluation and observability patterns"
    },
    {
      "filename": "langchain-patterns.json",
      "description": "LangChain patterns including observability and tracing"
    },
    {
      "filename": "model-serving-patterns.json",
      "description": "Model serving patterns with monitoring and logging"
    },
    {
      "filename": "naming-conventions.json",
      "description": "Python naming conventions"
    },
    {
      "filename": "test-patterns.json",
      "description": "Pytest patterns",
      "optional": true
    },
    {
      "filename": "tdd-patterns.json",
      "description": "Test-driven development patterns",
      "optional": true
    }
  ],
  "templates": {
    "codeTemplates": [
      {
        "category": "observability-client",
        "directory": "templates/python/observability/"
      },
      {
        "category": "tracing-wrapper",
        "directory": "templates/python/observability/"
      },
      {
        "category": "metrics-collector",
        "directory": "templates/python/observability/"
      },
      {
        "category": "evaluation-runner",
        "directory": "templates/python/observability/"
      },
      {
        "category": "dashboard-api",
        "directory": "templates/python/observability/"
      },
      {
        "category": "config",
        "directory": "templates/python/observability/config/"
      }
    ],
    "bddTemplates": [
      {
        "category": "feature-file",
        "directory": "templates/bdd/",
        "optional": true
      },
      {
        "category": "step-definitions",
        "directory": "templates/bdd/",
        "file": "steps-python.py.tmpl",
        "optional": true
      },
      {
        "category": "conftest",
        "directory": "templates/bdd/",
        "file": "conftest-bdd.py.tmpl",
        "optional": true
      }
    ],
    "documentTemplates": [
      {
        "name": "observability_architecture.md",
        "directory": "templates/docs/"
      },
      {
        "name": "implementation_plan.md",
        "directory": "templates/docs/"
      },
      {
        "name": "technical_spec.md",
        "directory": "templates/docs/"
      },
      {
        "name": "test_plan.md",
        "directory": "templates/docs/"
      }
    ]
  },
  "workflows": [
    {
      "patternId": "jira-bugfix",
      "customizations": {}
    },
    {
      "patternId": "confluence-feature",
      "customizations": {}
    },
    {
      "patternId": "github-actions-ci",
      "customizations": {
        "template": "templates/workflows/github/ci.yml.tmpl"
      }
    }
  ],
  "mcpServers": [
    {
      "name": "atlassian",
      "url": "https://mcp.atlassian.com/v1/sse",
      "purpose": "Jira/Confluence",
      "required": false
    },
    {
      "name": "deepwiki",
      "url": "https://mcp.deepwiki.com/mcp",
      "purpose": "GitHub analysis",
      "required": false
    }
  ],
  "projectStructure": {
    "directories": [
      {
        "path": ".cursor/agents/",
        "purpose": "AI agent definitions"
      },
      {
        "path": ".cursor/skills/",
        "purpose": "Reusable skills"
      },
      {
        "path": "knowledge/",
        "purpose": "Reference data"
      },
      {
        "path": "templates/python/",
        "purpose": "Code templates"
      },
      {
        "path": "templates/docs/",
        "purpose": "Document templates"
      },
      {
        "path": "workflows/",
        "purpose": "Workflow documentation"
      },
      {
        "path": "src/",
        "purpose": "Application source"
      },
      {
        "path": "src/observability/",
        "purpose": "Observability core modules"
      },
      {
        "path": "src/observability/tracing/",
        "purpose": "Tracing implementations"
      },
      {
        "path": "src/observability/metrics/",
        "purpose": "Metrics collection"
      },
      {
        "path": "src/observability/evaluation/",
        "purpose": "Evaluation runners"
      },
      {
        "path": "src/observability/dashboards/",
        "purpose": "Dashboard APIs"
      },
      {
        "path": "src/integrations/",
        "purpose": "Observability tool integrations"
      },
      {
        "path": "tests/",
        "purpose": "Test files"
      },
      {
        "path": "tests/integration/",
        "purpose": "Integration tests"
      },
      {
        "path": "features/",
        "purpose": "BDD feature files",
        "optional": true,
        "whenEnabled": "bdd"
      },
      {
        "path": "features/steps/",
        "purpose": "Step definitions",
        "optional": true,
        "whenEnabled": "bdd"
      },
      {
        "path": "docs/",
        "purpose": "Documentation"
      },
      {
        "path": "diagrams/",
        "purpose": "Architecture diagrams"
      },
      {
        "path": "data/",
        "purpose": "Sample observability data",
        "optional": true
      }
    ],
    "files": [
      {
        "path": ".cursorrules",
        "purpose": "Agent behavior rules"
      },
      {
        "path": "README.md",
        "purpose": "Project documentation"
      },
      {
        "path": "pyproject.toml",
        "purpose": "Python project config"
      },
      {
        "path": "requirements.txt",
        "purpose": "Dependencies"
      },
      {
        "path": ".env.example",
        "purpose": "Environment template"
      },
      {
        "path": "docker-compose.yml",
        "purpose": "Local observability stack",
        "optional": true
      }
    ]
  },
  "cursorrules": {
    "variables": [
      {
        "name": "PYTHON_PATH",
        "description": "Python executable path",
        "default": "python"
      },
      {
        "name": "STYLE_GUIDE",
        "description": "Coding style",
        "default": "pep8"
      },
      {
        "name": "OBSERVABILITY_BACKEND",
        "description": "Primary observability backend",
        "default": "langfuse"
      },
      {
        "name": "LANGFUSE_SECRET_KEY",
        "description": "Langfuse secret key",
        "default": ""
      },
      {
        "name": "LANGFUSE_PUBLIC_KEY",
        "description": "Langfuse public key",
        "default": ""
      },
      {
        "name": "PHOENIX_ENABLED",
        "description": "Enable Arize Phoenix",
        "default": "false"
      },
      {
        "name": "MLFLOW_TRACKING_URI",
        "description": "MLflow tracking URI",
        "default": "sqlite:///mlflow.db"
      },
      {
        "name": "WANDB_PROJECT",
        "description": "Weights & Biases project name",
        "default": ""
      },
      {
        "name": "OPENTELEMETRY_ENABLED",
        "description": "Enable OpenTelemetry tracing",
        "default": "false"
      }
    ],
    "rules": [
      {
        "name": "Type Hints",
        "description": "Always use type hints for function parameters and returns"
      },
      {
        "name": "Docstrings",
        "description": "Use Google-style docstrings"
      },
      {
        "name": "Testing",
        "description": "Write pytest tests with fixtures"
      },
      {
        "name": "Observability First",
        "description": "All AI/ML operations must include tracing and metrics collection"
      },
      {
        "name": "Structured Logging",
        "description": "Use structured logging with JSON format for all observability events"
      },
      {
        "name": "Privacy",
        "description": "Never log sensitive data (API keys, PII, passwords) in traces or metrics"
      },
      {
        "name": "Performance",
        "description": "Observability overhead should be minimal - use async logging and batching"
      },
      {
        "name": "Context Preservation",
        "description": "Preserve full context in traces including inputs, outputs, and metadata"
      },
      {
        "name": "Error Handling",
        "description": "Observability failures should not break application functionality"
      }
    ]
  },
  "pmIntegration": {
    "enabled": false,
    "description": "Optional project management integration with agile workflows",
    "agents": [
      {
        "patternId": "product-owner",
        "description": "Creates and refines stories, prioritizes backlog"
      },
      {
        "patternId": "sprint-master",
        "description": "Facilitates sprint ceremonies and removes blockers"
      },
      {
        "patternId": "task-manager",
        "description": "Breaks stories into tasks, manages issues"
      },
      {
        "patternId": "reporting-agent",
        "description": "Generates metrics, burndowns, dashboards"
      }
    ],
    "skills": [
      {
        "patternId": "create-story",
        "description": "Create user stories with acceptance criteria"
      },
      {
        "patternId": "create-epic",
        "description": "Create epics with child story structure"
      },
      {
        "patternId": "create-task",
        "description": "Create implementation tasks"
      },
      {
        "patternId": "plan-sprint",
        "description": "Sprint planning workflow"
      },
      {
        "patternId": "run-standup",
        "description": "Daily standup facilitation"
      },
      {
        "patternId": "close-sprint",
        "description": "Sprint closure and velocity calculation"
      }
    ],
    "backends": [
      "github",
      "jira",
      "linear",
      "azure-devops"
    ]
  }
}
