{
  "metadata": {
    "blueprintId": "nextjs-fullstack",
    "blueprintName": "Next.js Full-Stack Blueprint",
    "description": "Full-stack TypeScript development with Next.js 15 App Router, Server Actions, and React Server Components",
    "version": "1.0.0",
    "author": "Antigravity Agent Factory",    "tags": [
      "typescript",
      "nextjs",
      "react",
      "fullstack",
      "frontend",
      "backend"
    ]
  },
  "stack": {
    "primaryLanguage": "typescript",
    "frameworks": [
      {
        "name": "Next.js",
        "version": "16.1+",        "purpose": "Full-stack framework"
      },
      {
        "name": "React",
        "version": "19.2+",        "purpose": "UI library"
      },
      {
        "name": "Tailwind CSS",
        "version": "3+",
        "purpose": "Styling"
      },
      {
        "name": "Prisma",
        "version": "5+",
        "purpose": "ORM"
      },
      {
        "name": "tRPC",
        "version": "11+",
        "purpose": "Type-safe APIs",
        "optional": true
      },
      {
        "name": "Zod",
        "version": "3+",
        "purpose": "Validation"
      }
    ],
    "databases": [
      {
        "type": "sql",
        "name": "PostgreSQL",
        "purpose": "Primary database"
      },
      {
        "type": "sql",
        "name": "SQLite",
        "purpose": "Development/Testing"
      }
    ],
    "tools": [
      {
        "name": "TypeScript",
        "version": "5.7+",        "purpose": "Type system"
      },
      {
        "name": "ESLint",
        "purpose": "Linting"
      },
      {
        "name": "Prettier",
        "purpose": "Formatting"
      },
      {
        "name": "Vitest",
        "purpose": "Unit testing"
      },
      {
        "name": "Playwright",
        "purpose": "E2E testing"
      }
    ],
    "styleGuides": [
      {
        "name": "airbnb",
        "description": "Airbnb JavaScript/TypeScript Style",
        "reference": "https://github.com/airbnb/javascript"
      },
      {
        "name": "nextjs",
        "description": "Next.js Best Practices",
        "reference": "https://nextjs.org/docs"
      }
    ]
  },
  "agents": [
    {
      "patternId": "code-reviewer",
      "required": true,
      "customizations": {
        "skills": [
          "clean-code-review",
          "grounding"
        ]
      }
    },
    {
      "patternId": "test-generator",
      "required": true,
      "customizations": {
        "skills": [
          "tdd"
        ]
      }
    },
    {
      "patternId": "documentation-agent",
      "required": false,
      "customizations": {}
    },
    {
      "patternId": "explorer",
      "required": false
    },
    {
      "patternId": "knowledge-extender",
      "required": true,
      "description": "Extend knowledge base during development"
    },
    {
      "patternId": "knowledge-evolution",
      "required": true,
      "description": "Manage and evolve project knowledge independently"
    },
    {
      "patternId": "factory-updates",
      "required": true,
      "description": "Receive updates from the Antigravity Agent Factory"    },
    {
      "patternId": "debug-conductor-project",
      "required": false,
      "description": "Autonomous debugging agent for CI/CD and test failures"
    }
  ],
  "skills": [
    {
      "patternId": "bugfix-workflow",
      "required": true
    },
    {
      "patternId": "feature-workflow",
      "required": true
    },
    {
      "patternId": "grounding",
      "required": true
    },
    {
      "patternId": "grounding-verification",
      "required": true,
      "default": true,
      "description": "Two-pass verification for LLM grounding and factual claims"
    },
    {
      "patternId": "alignment-check",
      "required": true,
      "default": true,
      "description": "Verify understanding before major implementations"
    },
    {
      "patternId": "research-first-project",
      "required": true,
      "default": true,
      "description": "Research existing solutions before building"
    },
    {
      "patternId": "tdd",
      "required": true
    },
    {
      "patternId": "code-templates",
      "required": true
    },
    {
      "patternId": "security-audit",
      "required": false
    },
    {
      "patternId": "code-review",
      "required": false
    },
    {
      "patternId": "extend-knowledge",
      "required": true,
      "description": "Extend knowledge base with new topics"
    },
    {
      "patternId": "receive-updates",
      "required": true,
      "description": "Receive updates from Factory"
    },
    {
      "patternId": "ci-monitor-project",
      "required": false,
      "default": true,
      "description": "Monitor CI/CD pipelines with automatic error detection"
    },
    {
      "patternId": "pipeline-error-fix-project",
      "required": false,
      "default": true,
      "description": "Systematic pipeline error detection and fixing"
    }
  ],
  "knowledge": [
    {
      "filename": "naming-conventions.json",
      "description": "TypeScript naming conventions"
    },
    {
      "filename": "component-patterns.json",
      "description": "React component patterns"
    },
    {
      "filename": "nextjs-patterns.json",
      "description": "Next.js 15 App Router patterns, Server Actions, and React Server Components"
    },
    {
      "filename": "test-patterns.json",
      "description": "Vitest and Playwright patterns"
    }
  ],
  "templates": {
    "codeTemplates": [
      {
        "category": "server-component",
        "directory": "templates/typescript/nextjs/components/feature/"
      },
      {
        "category": "client-component",
        "directory": "templates/typescript/nextjs/components/ui/"
      },
      {
        "category": "page",
        "directory": "templates/typescript/nextjs/app/"
      },
      {
        "category": "server-action",
        "directory": "templates/typescript/nextjs/app/[domain]/"
      },
      {
        "category": "prisma-model",
        "directory": "templates/typescript/nextjs/"
      },
      {
        "category": "hook",
        "directory": "templates/typescript/nextjs/"
      },
      {
        "category": "test",
        "directory": "templates/typescript/nextjs/"
      }
    ],
    "documentTemplates": [
      {
        "name": "implementation_plan.md",
        "directory": "templates/docs/"
      },
      {
        "name": "technical_spec.md",
        "directory": "templates/docs/"
      },
      {
        "name": "test_plan.md",
        "directory": "templates/docs/"
      },
      {
        "name": "component_spec.md",
        "directory": "templates/docs/"
      }
    ]
  },
  "workflows": [
    {
      "patternId": "jira-bugfix",
      "customizations": {}
    },
    {
      "patternId": "confluence-feature",
      "customizations": {}
    }
  ],
  "mcpServers": [
    {
      "name": "atlassian",
      "url": "https://mcp.atlassian.com/v1/sse",
      "purpose": "Jira/Confluence",
      "required": false
    },
    {
      "name": "deepwiki",
      "url": "https://mcp.deepwiki.com/mcp",
      "purpose": "GitHub analysis",
      "required": false
    },
    {
      "name": "notion",
      "url": "https://mcp.notion.so/mcp",
      "purpose": "Notion docs",
      "required": false
    }
  ],
  "projectStructure": {
    "directories": [
      {
        "path": ".agent/agents/",
        "purpose": "AI agent definitions"
      },
      {
        "path": ".agent/skills/",        "purpose": "Reusable skills"
      },
      {
        "path": "knowledge/",
        "purpose": "Reference data"
      },
      {
        "path": "templates/nextjs/",
        "purpose": "Code templates"
      },
      {
        "path": "templates/docs/",
        "purpose": "Document templates"
      },
      {
        "path": "workflows/",
        "purpose": "Workflow documentation"
      },
      {
        "path": "src/app/",
        "purpose": "Next.js App Router pages"
      },
      {
        "path": "src/components/",
        "purpose": "React components"
      },
      {
        "path": "src/lib/",
        "purpose": "Shared utilities"
      },
      {
        "path": "src/server/",
        "purpose": "Server-side code"
      },
      {
        "path": "prisma/",
        "purpose": "Prisma schema and migrations"
      },
      {
        "path": "tests/",
        "purpose": "Test files"
      },
      {
        "path": "docs/",
        "purpose": "Documentation"
      },
      {
        "path": "public/",
        "purpose": "Static assets"
      }
    ],
    "files": [
      {
        "path": ".agentrules",        "purpose": "Agent behavior rules"
      },
      {
        "path": "README.md",
        "purpose": "Project documentation"
      },
      {
        "path": "package.json",
        "purpose": "Node.js project config"
      },
      {
        "path": "tsconfig.json",
        "purpose": "TypeScript config"
      },
      {
        "path": "next.config.js",
        "purpose": "Next.js config"
      },
      {
        "path": "tailwind.config.ts",
        "purpose": "Tailwind config"
      },
      {
        "path": "prisma/schema.prisma",
        "purpose": "Database schema"
      }
    ]
  },
  "cursorrules": {    "variables": [
      {
        "name": "NODE_VERSION",
        "description": "Node.js version",
        "default": "20"
      },
      {
        "name": "STYLE_GUIDE",
        "description": "Coding style",
        "default": "airbnb"
      }
    ],
    "rules": [
      {
        "name": "TypeScript Strict",
        "description": "Use strict TypeScript mode with no any types"
      },
      {
        "name": "Server Components",
        "description": "Prefer React Server Components by default, use 'use client' only when needed for interactivity"
      },
      {
        "name": "Server Actions",
        "description": "Use Server Actions for mutations instead of API routes. Place in app/[domain]/actions.ts"
      },
      {
        "name": "App Router",
        "description": "Use Next.js 15 App Router with route groups, parallel routes, and intercepting routes"
      },
      {
        "name": "Zod Validation",
        "description": "Validate all inputs with Zod schemas"
      },
      {
        "name": "Testing",
        "description": "Write Vitest unit tests and Playwright E2E tests"
      }
    ]
  },
  "pmIntegration": {
    "enabled": false,
    "description": "Optional project management integration with agile workflows",
    "agents": [
      {"patternId": "product-owner", "description": "Creates and refines stories, prioritizes backlog"},
      {"patternId": "sprint-master", "description": "Facilitates sprint ceremonies and removes blockers"},
      {"patternId": "task-manager", "description": "Breaks stories into tasks, manages issues"},
      {"patternId": "reporting-agent", "description": "Generates metrics, burndowns, dashboards"}
    ],
    "skills": [
      {"patternId": "create-story", "description": "Create user stories with acceptance criteria"},
      {"patternId": "create-epic", "description": "Create epics with child story structure"},
      {"patternId": "create-task", "description": "Create implementation tasks"},
      {"patternId": "plan-sprint", "description": "Sprint planning workflow"},
      {"patternId": "run-standup", "description": "Daily standup facilitation"},
      {"patternId": "close-sprint", "description": "Sprint closure and velocity calculation"}
    ],
    "backends": ["github", "jira", "linear", "azure-devops"]
  }
}
