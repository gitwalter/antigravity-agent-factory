{
  "metadata": {
    "blueprintId": "financial-ai-agents",
    "blueprintName": "Financial AI Agents Blueprint",
    "description": "AI agents for investment analysis, trading decisions, and portfolio management",
    "version": "1.0.0",
    "author": "Antigravity Agent Factory",
    "tags": [
      "python",
      "ai",
      "agents",
      "trading",
      "finance",
      "investment",
      "langchain",
      "ml"
    ],
    "extends": "ai-agent-development"
  },
  "stack": {
    "primaryLanguage": "python",
    "frameworks": [
      {
        "name": "LangChain",
        "version": "1.2+",
        "purpose": "Agent framework"
      },
      {
        "name": "CrewAI",
        "version": "1.10+",
        "purpose": "Multi-agent orchestration"
      },
      {
        "name": "LangGraph",
        "version": "1.0+",
        "purpose": "Stateful workflows"
      },
      {
        "name": "pandas",
        "version": "2.x",
        "purpose": "Data manipulation"
      },
      {
        "name": "numpy",
        "version": "1.26+",
        "purpose": "Numerical computing"
      },
      {
        "name": "vectorbt",
        "version": "0.26+",
        "purpose": "Backtesting"
      },
      {
        "name": "scikit-learn",
        "version": "1.4+",
        "purpose": "ML models"
      },
      {
        "name": "FastAPI",
        "version": "0.133+",
        "purpose": "API endpoints"
      },
      {
        "name": "Streamlit",
        "version": "1.54+",
        "purpose": "Dashboard UI"
      },
      {
        "name": "aisuite",
        "version": "0.1.14",
        "purpose": "Unified LLM interface for multi-provider access",
        "optional": true,
        "when": "Need to switch between LLM providers or use MCP tools across providers"
      }
    ],
    "dataSources": [
      {
        "name": "yfinance",
        "purpose": "Yahoo Finance data"
      },
      {
        "name": "ccxt",
        "purpose": "Cryptocurrency exchanges"
      },
      {
        "name": "alpaca-trade-api",
        "purpose": "US equities (live trading)"
      },
      {
        "name": "polygon-api-client",
        "purpose": "Real-time market data"
      }
    ],
    "databases": [
      {
        "type": "vector",
        "name": "ChromaDB",
        "purpose": "Market research embeddings"
      },
      {
        "type": "sql",
        "name": "PostgreSQL",
        "purpose": "Trade history and analytics"
      },
      {
        "type": "cache",
        "name": "Redis",
        "purpose": "Real-time data caching"
      }
    ],
    "llmProviders": [
      {
        "name": "OpenAI",
        "models": [
          "gpt-5.2",
          "gpt-5.3-codex",
          "gpt-4o",
          "gpt-4o-mini",
          "o1",
          "o1-mini"
        ],
        "purpose": "Analysis and reasoning"
      },
      {
        "name": "Anthropic",
        "models": [
          "claude-opus-4.6",
          "claude-3-5-sonnet-20241022",
          "claude-3-5-haiku-20241022"
        ],
        "purpose": "Long-context analysis"
      }
    ],
    "tools": [
      {
        "name": "pytest",
        "purpose": "Testing"
      },
      {
        "name": "ruff",
        "purpose": "Linting"
      },
      {
        "name": "mypy",
        "purpose": "Type checking"
      },
      {
        "name": "langsmith",
        "purpose": "Agent tracing"
      }
    ]
  },
  "agents": [
    {
      "patternId": "code-reviewer",
      "required": true,
      "customizations": {
        "skills": [
          "clean-code-review",
          "grounding"
        ]
      }
    },
    {
      "patternId": "test-generator",
      "required": true,
      "customizations": {
        "skills": [
          "tdd",
          "backtesting-validation"
        ]
      }
    },
    {
      "patternId": "strategy-analyst",
      "required": true,
      "customizations": {
        "focus": "trading-strategy-analysis"
      }
    },
    {
      "patternId": "market-analyst",
      "required": true,
      "customizations": {
        "focus": "market-data-analysis"
      }
    },
    {
      "patternId": "explorer",
      "required": false
    },
    {
      "patternId": "knowledge-extender",
      "required": true,
      "description": "Extend knowledge base during development"
    },
    {
      "patternId": "knowledge-evolution",
      "required": true,
      "description": "Manage and evolve project knowledge independently"
    },
    {
      "patternId": "factory-updates",
      "required": true,
      "description": "Receive updates from the Antigravity Agent Factory"
    },
    {
      "patternId": "debug-conductor-project",
      "required": false,
      "description": "Autonomous debugging agent for CI/CD and test failures"
    }
  ],
  "skills": [
    {
      "patternId": "trading-strategy",
      "required": true
    },
    {
      "patternId": "backtesting-validation",
      "required": true
    },
    {
      "patternId": "risk-analysis",
      "required": true
    },
    {
      "patternId": "prompt-engineering",
      "required": true
    },
    {
      "patternId": "grounding",
      "required": true
    },
    {
      "patternId": "grounding-verification",
      "required": true,
      "default": true,
      "description": "Two-pass verification for LLM grounding and factual claims"
    },
    {
      "patternId": "alignment-check",
      "required": true,
      "default": true,
      "description": "Verify understanding before major implementations"
    },
    {
      "patternId": "research-first-project",
      "required": true,
      "default": true,
      "description": "Research existing solutions before building"
    },
    {
      "patternId": "tdd",
      "required": true
    },
    {
      "patternId": "bugfix-workflow",
      "required": true
    },
    {
      "patternId": "feature-workflow",
      "required": true
    },
    {
      "patternId": "extend-knowledge",
      "required": true,
      "description": "Extend knowledge base with new topics"
    },
    {
      "patternId": "receive-updates",
      "required": true,
      "description": "Receive updates from Factory"
    },
    {
      "patternId": "ci-monitor-project",
      "required": false,
      "default": true,
      "description": "Monitor CI/CD pipelines with automatic error detection"
    },
    {
      "patternId": "pipeline-error-fix-project",
      "required": false,
      "default": true,
      "description": "Systematic pipeline error detection and fixing"
    }
  ],
  "knowledge": [
    {
      "filename": "trading-patterns.json",
      "description": "Trading strategy patterns"
    },
    {
      "filename": "quantitative-finance.json",
      "description": "Risk metrics and portfolio theory"
    },
    {
      "filename": "risk-management.json",
      "description": "Position sizing and risk controls"
    },
    {
      "filename": "langchain-patterns.json",
      "description": "LangChain best practices"
    },
    {
      "filename": "prompt-engineering.json",
      "description": "Prompt optimization"
    }
  ],
  "templates": {
    "codeTemplates": [
      {
        "category": "market-analyst-agent",
        "directory": "templates/trading/agents/"
      },
      {
        "category": "trading-executor-agent",
        "directory": "templates/trading/agents/"
      },
      {
        "category": "momentum-strategy",
        "directory": "templates/trading/strategies/"
      },
      {
        "category": "backtest-runner",
        "directory": "templates/trading/backtesting/"
      },
      {
        "category": "position-sizer",
        "directory": "templates/trading/risk/"
      },
      {
        "category": "agent-base",
        "directory": "templates/ai/agent/"
      }
    ],
    "documentTemplates": [
      {
        "name": "strategy_report.md",
        "directory": "templates/docs/"
      },
      {
        "name": "agent_design.md",
        "directory": "templates/docs/"
      }
    ]
  },
  "workflows": [
    {
      "patternId": "strategy-development",
      "customizations": {}
    },
    {
      "patternId": "agent-development",
      "customizations": {}
    },
    {
      "patternId": "jira-bugfix",
      "customizations": {}
    }
  ],
  "mcpServers": [
    {
      "name": "deepwiki",
      "url": "https://mcp.deepwiki.com/mcp",
      "purpose": "Financial library docs",
      "required": false
    }
  ],
  "projectStructure": {
    "directories": [
      {
        "path": ".agent/agents/",
        "purpose": "AI agent definitions"
      },
      {
        "path": ".agent/skills/",
        "purpose": "Reusable skills"
      },
      {
        "path": "agents/",
        "purpose": "Financial AI agents"
      },
      {
        "path": "agents/analyst/",
        "purpose": "Market analysis agents"
      },
      {
        "path": "agents/trader/",
        "purpose": "Trading execution agents"
      },
      {
        "path": "agents/risk/",
        "purpose": "Risk management agents"
      },
      {
        "path": "strategies/",
        "purpose": "Trading strategies"
      },
      {
        "path": "data/",
        "purpose": "Data fetching and processing"
      },
      {
        "path": "backtesting/",
        "purpose": "Backtesting framework"
      },
      {
        "path": "risk/",
        "purpose": "Risk management"
      },
      {
        "path": "prompts/",
        "purpose": "Agent prompts"
      },
      {
        "path": "tools/",
        "purpose": "Agent tools"
      },
      {
        "path": "apps/",
        "purpose": "Streamlit dashboards"
      },
      {
        "path": "api/",
        "purpose": "FastAPI endpoints"
      },
      {
        "path": "tests/",
        "purpose": "Test files"
      },
      {
        "path": "knowledge/",
        "purpose": "Reference data"
      }
    ],
    "files": [
      {
        "path": ".agentrules",
        "purpose": "Agent behavior rules"
      },
      {
        "path": "README.md",
        "purpose": "Documentation"
      },
      {
        "path": "pyproject.toml",
        "purpose": "Python config"
      }
    ]
  },
  "cursorrules": {
    "variables": [
      {
        "name": "PYTHON_PATH",
        "default": "${PYTHON_PATH}"
      },
      {
        "name": "LLM_PROVIDER",
        "default": "openai"
      },
      {
        "name": "BACKTEST_ENGINE",
        "default": "vectorbt"
      },
      {
        "name": "LIVE_TRADING_ENABLED",
        "default": "false"
      }
    ],
    "rules": [
      {
        "name": "Type Hints",
        "description": "Always use type hints"
      },
      {
        "name": "Docstrings",
        "description": "Google-style docstrings"
      },
      {
        "name": "Risk First",
        "description": "All strategies MUST include risk management"
      },
      {
        "name": "No Live Without Approval",
        "description": "NEVER execute live trades without explicit human approval"
      },
      {
        "name": "Backtest Validation",
        "description": "Validate all strategies with out-of-sample testing"
      },
      {
        "name": "Tracing",
        "description": "Enable LangSmith tracing for all agent operations"
      }
    ]
  },
  "financialAgentPatterns": {
    "analyst_agents": [
      {
        "name": "Market Analyst",
        "purpose": "Analyze market conditions and trends"
      },
      {
        "name": "Fundamental Analyst",
        "purpose": "Analyze company fundamentals"
      },
      {
        "name": "Technical Analyst",
        "purpose": "Analyze price patterns and indicators"
      },
      {
        "name": "Sentiment Analyst",
        "purpose": "Analyze market sentiment"
      }
    ],
    "trading_agents": [
      {
        "name": "Signal Generator",
        "purpose": "Generate trading signals"
      },
      {
        "name": "Order Manager",
        "purpose": "Manage order execution"
      },
      {
        "name": "Position Manager",
        "purpose": "Manage open positions"
      }
    ],
    "risk_agents": [
      {
        "name": "Risk Calculator",
        "purpose": "Calculate portfolio risk metrics"
      },
      {
        "name": "Position Sizer",
        "purpose": "Determine optimal position sizes"
      },
      {
        "name": "Alert Monitor",
        "purpose": "Monitor risk thresholds"
      }
    ]
  },
  "safetyRequirements": {
    "mandatory": [
      "No live trading without explicit human confirmation",
      "Maximum position size limits enforced",
      "Stop-loss on all positions",
      "Daily loss limits with automatic shutdown",
      "Audit logging for all trading decisions"
    ],
    "recommended": [
      "Paper trading validation before live",
      "Gradual position size scaling",
      "Real-time monitoring dashboard",
      "Alert notifications for anomalies"
    ]
  },
  "axiomAlignment": {
    "A1_verifiability": "All trading decisions logged with reasoning",
    "A2_user_primacy": "Human approval required for live trades",
    "A3_transparency": "Clear explanation of analysis and signals",
    "A4_non_harm": "Risk limits prevent catastrophic losses",
    "A5_consistency": "Behavior derived from documented strategies"
  },
  "pmIntegration": {
    "enabled": false,
    "description": "Optional project management integration with agile workflows",
    "agents": [
      {
        "patternId": "product-owner",
        "description": "Creates and refines stories, prioritizes backlog"
      },
      {
        "patternId": "sprint-master",
        "description": "Facilitates sprint ceremonies and removes blockers"
      },
      {
        "patternId": "task-manager",
        "description": "Breaks stories into tasks, manages issues"
      },
      {
        "patternId": "reporting-agent",
        "description": "Generates metrics, burndowns, dashboards"
      }
    ],
    "skills": [
      {
        "patternId": "create-story",
        "description": "Create user stories with acceptance criteria"
      },
      {
        "patternId": "create-epic",
        "description": "Create epics with child story structure"
      },
      {
        "patternId": "create-task",
        "description": "Create implementation tasks"
      },
      {
        "patternId": "plan-sprint",
        "description": "Sprint planning workflow"
      },
      {
        "patternId": "run-standup",
        "description": "Daily standup facilitation"
      },
      {
        "patternId": "close-sprint",
        "description": "Sprint closure and velocity calculation"
      }
    ],
    "backends": [
      "github",
      "jira",
      "linear",
      "azure-devops"
    ]
  }
}
