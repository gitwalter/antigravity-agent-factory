{
  "metadata": {
    "patternId": "research-first-project",
    "patternName": "Research-First Development Pattern",
    "category": "development-practice",
    "stackAgnostic": true,
    "description": "Encourage researching existing solutions before building custom implementations to create multiplied value",
    "composable": true,
    "version": "1.0.0"
  },
  "frontmatter": {
    "name": "research-first-project",
    "description": "Research existing solutions before building to create multiplied value",
    "type": "skill",
    "pattern": "patterns/skills/research-first-project.json",
    "axioms": [
      "A0_love_truth_beauty",
      "A2_humility",
      "A3_transparency"
    ],
    "triggers": [
      "performance optimization",
      "new architectural pattern",
      "security implementation",
      "caching strategy",
      "integration with external systems",
      "authentication/authorization",
      "database design",
      "API design",
      "build/deployment pipelines",
      "testing strategies"
    ]
  },
  "sections": {
    "title": "Research-First Development Pattern",
    "introduction": "Research existing solutions before building significant features. This pattern embodies **A2 (Humility)** - acknowledging that others may have solved the problem better - while creating **multiplied value** through reusable patterns and avoiding reinventing the wheel.",
    "corePrinciple": {
      "description": "Option B: Research → Document → Test → Build",
      "rationale": "Each researched pattern benefits all future work in this project and potentially other projects."
    },
    "whenToUse": [
      "Performance optimization - always research first",
      "Security implementation - always research first",
      "Authentication/authorization patterns - always research first",
      "Caching strategies - always research first",
      "Database design patterns - always research first",
      "API design decisions - always research first",
      "Build/deployment pipelines - always research first",
      "Testing strategies - always research first",
      "Integration with external systems - always research first",
      "Error handling patterns - always research first",
      "UI component libraries - consider researching",
      "Form validation approaches - consider researching",
      "Data transformation patterns - consider researching"
    ],
    "whenToSkip": [
      "Bug fixes with known cause",
      "Minor UI adjustments",
      "Documentation updates",
      "Dependency version bumps",
      "Simple CRUD operations",
      "Domain-specific business logic"
    ],
    "process": [
      {
        "step": 1,
        "name": "Recognize Trigger",
        "description": "Identify when research is needed before building",
        "question": "Does this feel like something someone else has solved well?",
        "indicators": [
          "Problem is not domain-specific",
          "Performance or security implications",
          "Cross-cutting concern",
          "Will be used in multiple places",
          "Common pattern in the industry"
        ],
        "actions": [
          "Evaluate if problem is domain-specific or generic",
          "Assess performance/security impact",
          "Consider reusability across project",
          "Check if it's a well-known problem"
        ]
      },
      {
        "step": 2,
        "name": "Research Sources",
        "description": "Search for existing solutions and patterns",
        "sources": {
          "academic": [
            "ACM Digital Library",
            "Google Scholar",
            "arXiv (cs.SE, cs.PL, relevant domains)"
          ],
          "industry": [
            "GitHub repositories and discussions",
            "Dev.to, Medium technical articles",
            "Stack Overflow patterns",
            "Official documentation",
            "NPM/PyPI package documentation",
            "Framework-specific best practices"
          ],
          "community": [
            "Reddit (r/programming, language-specific subreddits)",
            "Discord/Slack communities",
            "Stack Exchange sites",
            "Language-specific forums"
          ]
        },
        "actions": [
          "Search for existing libraries/packages",
          "Review GitHub issues and discussions",
          "Read technical blog posts",
          "Check official documentation",
          "Look for design patterns",
          "Review similar projects"
        ],
        "timeLimit": "Hours, not weeks - time-box research appropriately"
      },
      {
        "step": 3,
        "name": "Document Findings",
        "description": "Create knowledge documentation for future reference",
        "actions": [
          "Create knowledge file: `docs/knowledge/{pattern-name}.md` or `knowledge/{pattern-name}.json`",
          "Document researched solutions",
          "Note pros/cons of each approach",
          "Record decision rationale",
          "Include source references",
          "Document anti-patterns to avoid"
        ],
        "template": {
          "structure": {
            "title": "Pattern Name",
            "description": "What this pattern solves",
            "problem": "The problem being addressed",
            "researchedSolutions": [
              {
                "name": "Solution name",
                "source": "URL or reference",
                "pros": ["..."],
                "cons": ["..."],
                "applicability": "When to use"
              }
            ],
            "selectedApproach": "Which solution was chosen and why",
            "implementationNotes": "Key considerations for implementation",
            "antiPatterns": ["What to avoid"],
            "references": ["URLs and citations"]
          }
        }
      },
      {
        "step": 4,
        "name": "Write Tests First (TDD)",
        "description": "Create tests before implementation",
        "actions": [
          "Create test file: `tests/unit/test_{pattern}.py` (or equivalent)",
          "Test that knowledge file exists and is valid",
          "Test that required fields are present",
          "Test edge cases and integration points",
          "Write tests for the researched pattern"
        ],
        "rationale": "Tests validate understanding and provide safety net for implementation"
      },
      {
        "step": 5,
        "name": "Build Implementation",
        "description": "Implement solution following researched pattern",
        "actions": [
          "Follow the researched pattern",
          "Reference the knowledge file",
          "Implement incrementally",
          "Run tests frequently",
          "Document any deviations from pattern"
        ]
      },
      {
        "step": 6,
        "name": "Integrate for Reuse",
        "description": "Make solution reusable within project",
        "actions": [
          "Create reusable components/modules",
          "Add to shared utilities if applicable",
          "Update project documentation",
          "Create examples/usage guides",
          "Consider creating project-specific patterns"
        ]
      }
    ],
    "workflow": {
      "diagram": "┌─────────────┐     ┌─────────────┐     ┌─────────────┐\n│ 1. TRIGGER  │────▶│ 2. RESEARCH │────▶│ 3. DOCUMENT │\n│ Recognize   │     │ Search      │     │ Knowledge   │\n│ the need    │     │ sources     │     │ file        │\n└─────────────┘     └─────────────┘     └──────┬──────┘\n                                               │\n┌─────────────┐     ┌─────────────┐     ┌──────▼──────┐\n│ 6. INTEGRATE│◀────│ 5. BUILD    │◀────│ 4. TEST     │\n│ Reuse in    │     │ Implement   │     │ TDD first   │\n│ project     │     │ solution    │     │             │\n└─────────────┘     └─────────────┘     └─────────────┘"
    },
    "importantRules": [
      "Research before building - Don't start coding immediately for non-domain problems",
      "Time-box research - Hours, not weeks. Set a limit and stick to it",
      "Document everything - Even rejected approaches help future decisions",
      "Test first - Write tests before implementation to validate understanding",
      "Understand before copying - Don't copy-paste without understanding why",
      "Consider project context - Adapt researched solutions to project needs",
      "Share knowledge - Document findings so team can benefit",
      "All actions must align with core axioms (A1: Verifiability, A2: Humility, A3: Transparency, A4: Non-Harm, A5: Consistency)"
    ],
    "antiPatterns": [
      {
        "name": "Not Invented Here",
        "description": "Dismissing external solutions without evaluation",
        "symptom": "Building custom solution without checking if mature solutions exist",
        "remedy": "Always check if mature solutions exist first",
        "example": "Building custom authentication instead of using established library"
      },
      {
        "name": "Analysis Paralysis",
        "description": "Weeks of research with no implementation",
        "symptom": "Endless research without making decisions",
        "remedy": "Time-box research (hours, not weeks), set decision deadline",
        "example": "Researching caching strategies for 2 weeks without implementing"
      },
      {
        "name": "Copy-Paste Without Understanding",
        "description": "Cannot explain why the approach was chosen",
        "symptom": "Using code/pattern without understanding rationale",
        "remedy": "Document rationale in knowledge file, understand trade-offs",
        "example": "Copying configuration pattern without understanding security implications"
      },
      {
        "name": "Research Once, Forget",
        "description": "Repeating research for similar problems",
        "symptom": "Researching same type of problem multiple times",
        "remedy": "Always create knowledge file, even for rejected approaches",
        "example": "Researching API design patterns multiple times for different endpoints"
      },
      {
        "name": "Over-Engineering",
        "description": "Choosing complex solution when simple one exists",
        "symptom": "Implementing enterprise-grade solution for simple problem",
        "remedy": "Match solution complexity to problem complexity",
        "example": "Using microservices architecture for small application"
      }
    ],
    "examples": {
      "scenario1": {
        "title": "Pre-commit hooks too slow",
        "trigger": "Performance optimization that will benefit all developers",
        "research": [
          "pre-commit framework caching",
          "Incremental computation patterns",
          "File watching libraries",
          "Git hooks optimization"
        ],
        "documentation": "docs/knowledge/pre-commit-optimization.md",
        "test": "tests/unit/test_precommit_optimization.py",
        "implementation": "scripts/hooks/optimized_precommit.py"
      },
      "scenario2": {
        "title": "Need authentication system",
        "trigger": "Security implementation - critical for application",
        "research": [
          "OAuth 2.0 / OpenID Connect libraries",
          "JWT token management",
          "Session management patterns",
          "Framework-specific auth solutions"
        ],
        "documentation": "docs/knowledge/authentication-patterns.md",
        "test": "tests/unit/test_auth_patterns.py",
        "implementation": "Use researched library with documented pattern"
      },
      "scenario3": {
        "title": "API rate limiting",
        "trigger": "Cross-cutting concern affecting multiple endpoints",
        "research": [
          "Rate limiting algorithms (token bucket, sliding window)",
          "Middleware patterns",
          "Existing rate limiting libraries",
          "Distributed rate limiting for scalability"
        ],
        "documentation": "docs/knowledge/rate-limiting.md",
        "test": "tests/unit/test_rate_limiting.py",
        "implementation": "Implement using researched algorithm/library"
      }
    },
    "benefits": {
      "immediate": [
        "Better solution quality",
        "Avoid common pitfalls",
        "Learn from others' experience",
        "Faster development (reuse vs build)",
        "Better tested solutions"
      ],
      "longTerm": [
        "Reusable patterns for project",
        "Knowledge base grows with each decision",
        "Reduced technical debt",
        "Team learning and knowledge sharing",
        "Consistent patterns across project"
      ],
      "multipliedValue": "Each researched pattern benefits current project and informs future decisions. Knowledge documentation helps team members and future maintainers."
    },
    "invocation": {
      "explicit": "Agents can invoke this pattern explicitly:\n\n```\nI need to implement [X]. Let me invoke research-first:\n1. Is this a research trigger? [Check whenToUse section]\n2. If yes: Research → Document → Test → Build\n3. If no: Proceed directly\n```",
      "automatic": "Pattern should be considered automatically when:\n- Implementing new architectural components\n- Adding security features\n- Optimizing performance\n- Integrating external systems\n- Designing APIs or data models"
    },
    "fallbackProcedures": [
      {
        "condition": "No suitable existing solution found",
        "action": "Document why existing solutions don't fit, design custom solution based on best practices, document thoroughly, consider contributing back to community"
      },
      {
        "condition": "Multiple solutions with different trade-offs",
        "action": "Document all options with pros/cons, evaluate against project requirements, make decision based on context, document rationale"
      },
      {
        "condition": "Research time limit reached without clear answer",
        "action": "Document what was found, make best decision with available information, note that more research may be needed later, proceed and iterate"
      },
      {
        "condition": "Researched solution is over-engineered for needs",
        "action": "Document why solution is too complex, find simpler alternative, consider phased approach if needed long-term"
      }
    ]
  },
  "templates": {
    "knowledgeFile": {
      "description": "Template for documenting researched patterns",
      "path": "templates/knowledge/research-pattern.md.tmpl",
      "variables": [
        "{PATTERN_NAME}",
        "{PROBLEM_DESCRIPTION}",
        "{RESEARCHED_SOLUTIONS}",
        "{SELECTED_APPROACH}",
        "{IMPLEMENTATION_NOTES}",
        "{REFERENCES}"
      ]
    },
    "testFile": {
      "description": "Template for tests validating researched pattern",
      "path": "templates/test/research-pattern-test.py.tmpl",
      "variables": [
        "{PATTERN_NAME}",
        "{TEST_FRAMEWORK}",
        "{TEST_CASES}"
      ]
    }
  },
  "successMetrics": {
    "researchQuality": "Knowledge files created for major decisions",
    "reuseRate": "Percentage of solutions using researched patterns vs custom",
    "documentationCoverage": "Major architectural decisions documented",
    "timeToDecision": "Research time-boxed appropriately (hours, not weeks)",
    "teamKnowledge": "Team members can find and understand past research"
  },
  "relatedSkills": [
    "tdd",
    "grounding-verification",
    "code-review",
    "documentation"
  ],
  "variables": [
    {
      "name": "{PROBLEM_TYPE}",
      "description": "Type of problem being solved (performance, security, architecture, etc.)",
      "required": true
    },
    {
      "name": "{RESEARCH_SOURCES}",
      "description": "Sources to search (academic, industry, community)",
      "required": false,
      "default": "industry,community"
    },
    {
      "name": "{RESEARCH_TIME_LIMIT}",
      "description": "Maximum time to spend on research (in hours)",
      "required": false,
      "default": "4"
    },
    {
      "name": "{KNOWLEDGE_FILE_PATH}",
      "description": "Path where knowledge documentation should be stored",
      "required": false,
      "default": "docs/knowledge/{pattern-name}.md"
    },
    {
      "name": "{PROJECT_CONTEXT}",
      "description": "Project-specific context affecting solution choice",
      "required": false
    },
    {
      "name": "{STACK_TECHNOLOGIES}",
      "description": "Technologies in project stack (for filtering solutions)",
      "required": false
    }
  ],
  "generated_by": "Antigravity Agent Factory",
  "research_source": ".agent/skills/research-first/SKILL.md"}
