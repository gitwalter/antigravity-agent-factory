{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://cursor-agent-factory.dev/pabp/v1/blueprint.schema.json",
    "title": "PABP Blueprint Description",
    "description": "Structured description of a project blueprint for cross-system transfer. A blueprint bundles agents, skills, knowledge, workflows, and templates into a domain-specific project configuration.",
    "type": "object",
    "required": [
        "$pabp",
        "$type",
        "id",
        "name",
        "version",
        "domain",
        "description",
        "agents",
        "skills",
        "knowledge",
        "workflows"
    ],
    "properties": {
        "$pabp": {
            "type": "string",
            "const": "1.0.0",
            "description": "PABP protocol version"
        },
        "$type": {
            "type": "string",
            "const": "blueprint",
            "description": "Component type identifier"
        },
        "id": {
            "type": "string",
            "pattern": "^[a-z][a-z0-9-]*$",
            "description": "Unique blueprint identifier (kebab-case)"
        },
        "name": {
            "type": "string",
            "description": "Human-readable blueprint name"
        },
        "version": {
            "type": "string",
            "pattern": "^\\d+\\.\\d+\\.\\d+$",
            "description": "Semantic version of this blueprint"
        },
        "domain": {
            "type": "string",
            "enum": [
                "ai-ml",
                "trading",
                "python",
                "agent-core",
                "web-frontend",
                "java-spring",
                "dotnet",
                "sap",
                "devops",
                "blockchain",
                "automation",
                "cross-cutting"
            ],
            "description": "Primary domain this blueprint targets"
        },
        "description": {
            "type": "string",
            "description": "Brief description of the blueprint purpose and capabilities"
        },
        "agents": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "minItems": 1,
            "description": "Agent identifiers required by this blueprint"
        },
        "skills": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "minItems": 1,
            "description": "Skill identifiers required by this blueprint"
        },
        "knowledge": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "minItems": 1,
            "description": "Knowledge file identifiers consumed by this blueprint"
        },
        "workflows": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "minItems": 1,
            "description": "Methodology workflow pattern IDs"
        },
        "orchestrations": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "description": "Relative paths to agent orchestration YAML files"
        },
        "templates": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "description": "Template identifiers or paths used by this blueprint"
        },
        "coordination_pattern": {
            "type": "string",
            "enum": [
                "supervisor_worker",
                "hierarchical",
                "collaborative",
                "sequential",
                "broadcast",
                "event_driven"
            ],
            "description": "Primary multi-agent coordination pattern"
        },
        "team_composition": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Team name"
                },
                "interaction_pattern": {
                    "type": "string",
                    "enum": [
                        "sequential",
                        "parallel",
                        "iterative",
                        "hierarchical",
                        "pipeline"
                    ],
                    "description": "How agents interact within the team"
                },
                "roles": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "required": [
                            "agent",
                            "role"
                        ],
                        "properties": {
                            "agent": {
                                "type": "string"
                            },
                            "role": {
                                "type": "string"
                            },
                            "responsibilities": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "prerequisites": {
            "type": "object",
            "properties": {
                "packages": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Required Python/system packages"
                },
                "env_vars": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Required environment variables"
                },
                "services": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Required external services"
                }
            }
        },
        "tags": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "description": "Searchable tags for blueprint discovery"
        },
        "checksum": {
            "type": "string",
            "pattern": "^sha256:",
            "description": "Integrity checksum for PABP transfer"
        }
    }
}