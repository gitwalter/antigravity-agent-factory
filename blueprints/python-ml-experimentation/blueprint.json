{
  "metadata": {
    "blueprintId": "python-ml-experimentation",
    "blueprintName": "Python ML Experimentation Blueprint",
    "description": "Machine learning research and experimentation with PyTorch, scikit-learn, and experiment tracking",
    "version": "1.0.0",
    "author": "Antigravity Agent Factory",    "tags": [
      "python",
      "ml",
      "pytorch",
      "sklearn",
      "research",
      "experimentation",
      "jupyter"
    ],
    "purpose": "Enable data scientists to conduct ML experiments with proper tracking, reproducibility, and best practices"
  },
  "stack": {
    "primaryLanguage": "python",
    "frameworks": [
      {
        "name": "PyTorch",
        "version": "2.0+",
        "purpose": "Deep learning framework"
      },
      {
        "name": "scikit-learn",
        "version": "1.3+",
        "purpose": "Classical ML algorithms"
      },
      {
        "name": "pandas",
        "version": "2.0+",
        "purpose": "Data manipulation"
      },
      {
        "name": "NumPy",
        "version": "1.24+",
        "purpose": "Numerical computing"
      },
      {
        "name": "matplotlib",
        "version": "3.7+",
        "purpose": "Visualization"
      },
      {
        "name": "seaborn",
        "version": "0.12+",
        "purpose": "Statistical visualization"
      },
      {
        "name": "Jupyter",
        "version": "latest",
        "purpose": "Interactive development"
      }
    ],
    "databases": [
      {
        "type": "file",
        "name": "Parquet",
        "purpose": "Data storage"
      },
      {
        "type": "sql",
        "name": "SQLite",
        "purpose": "Experiment metadata"
      },
      {
        "type": "tracking",
        "name": "MLflow",
        "purpose": "Experiment tracking"
      }
    ],
    "tools": [
      {
        "name": "pytest",
        "purpose": "Testing"
      },
      {
        "name": "ruff",
        "purpose": "Linting"
      },
      {
        "name": "black",
        "purpose": "Formatting"
      },
      {
        "name": "mypy",
        "purpose": "Type checking"
      },
      {
        "name": "mlflow",
        "purpose": "Experiment tracking"
      },
      {
        "name": "wandb",
        "purpose": "Alternative tracking",
        "optional": true
      },
      {
        "name": "hydra",
        "purpose": "Configuration management",
        "optional": true
      }
    ],
    "styleGuides": [
      {
        "name": "pep8",
        "description": "PEP 8 Style Guide",
        "reference": "https://pep8.org"
      },
      {
        "name": "google",
        "description": "Google Python Style",
        "reference": "https://google.github.io/styleguide/pyguide.html"
      }
    ]
  },
  "agents": [
    {
      "patternId": "code-reviewer",
      "required": true,
      "customizations": {
        "skills": [
          "clean-code-review",
          "grounding"
        ]
      }
    },
    {
      "patternId": "test-generator",
      "required": true,
      "customizations": {
        "skills": [
          "tdd"
        ]
      }
    },
    {
      "patternId": "documentation-agent",
      "required": true,
      "customizations": {
        "focus": "ml-documentation"
      }
    },
    {
      "patternId": "knowledge-extender",
      "required": true,
      "description": "Extend knowledge base during development"
    },
    {
      "patternId": "knowledge-evolution",
      "required": true,
      "description": "Manage and evolve project knowledge independently"
    },
    {
      "patternId": "factory-updates",
      "required": true,
      "description": "Receive updates from the Antigravity Agent Factory"    },
    {
      "patternId": "debug-conductor-project",
      "required": false,
      "description": "Autonomous debugging agent for CI/CD and test failures"
    }
  ],
  "skills": [
    {
      "patternId": "bugfix-workflow",
      "required": true
    },
    {
      "patternId": "feature-workflow",
      "required": true
    },
    {
      "patternId": "grounding",
      "required": true
    },
    {
      "patternId": "grounding-verification",
      "required": true,
      "default": true,
      "description": "Two-pass verification for LLM grounding and factual claims"
    },
    {
      "patternId": "alignment-check",
      "required": true,
      "default": true,
      "description": "Verify understanding before major implementations"
    },
    {
      "patternId": "research-first-project",
      "required": true,
      "default": true,
      "description": "Research existing solutions before building"
    },
    {
      "patternId": "tdd",
      "required": true
    },
    {
      "patternId": "extend-knowledge",
      "required": true,
      "description": "Extend knowledge base with new topics"
    },
    {
      "patternId": "receive-updates",
      "required": true,
      "description": "Receive updates from Factory"
    },
    {
      "patternId": "ci-monitor-project",
      "required": false,
      "default": true,
      "description": "Monitor CI/CD pipelines with automatic error detection"
    },
    {
      "patternId": "pipeline-error-fix-project",
      "required": false,
      "default": true,
      "description": "Systematic pipeline error detection and fixing"
    }
  ],
  "knowledge": [
    {
      "filename": "ml-workflow-patterns.json",
      "description": "ML workflow best practices"
    },
    {
      "filename": "deep-learning-patterns.json",
      "description": "Deep learning training patterns"
    },
    {
      "filename": "mlops-patterns.json",
      "description": "Experiment tracking and MLOps"
    }
  ],
  "templates": {
    "codeTemplates": [
      {
        "category": "notebook",
        "directory": "templates/python/notebooks/"
      },
      {
        "category": "training",
        "directory": "templates/python/training/"
      },
      {
        "category": "evaluation",
        "directory": "templates/python/evaluation/"
      },
      {
        "category": "data",
        "directory": "templates/python/data/"
      }
    ],
    "documentTemplates": [
      {
        "name": "experiment_report.md",
        "directory": "templates/docs/"
      },
      {
        "name": "model_card.md",
        "directory": "templates/docs/"
      }
    ]
  },
  "workflows": [
    {
      "patternId": "ml-experiment",
      "customizations": {}
    },
    {
      "patternId": "model-evaluation",
      "customizations": {}
    }
  ],
  "projectStructure": {
    "directories": [
      {
        "path": ".agent/agents/",
        "purpose": "AI agent definitions"
      },
      {
        "path": ".agent/skills/",        "purpose": "Reusable skills"
      },
      {
        "path": "knowledge/",
        "purpose": "Reference data"
      },
      {
        "path": "notebooks/",
        "purpose": "Jupyter notebooks for exploration"
      },
      {
        "path": "src/",
        "purpose": "Source code"
      },
      {
        "path": "src/data/",
        "purpose": "Data loading and processing"
      },
      {
        "path": "src/models/",
        "purpose": "Model definitions"
      },
      {
        "path": "src/training/",
        "purpose": "Training scripts"
      },
      {
        "path": "src/evaluation/",
        "purpose": "Evaluation utilities"
      },
      {
        "path": "src/utils/",
        "purpose": "Helper functions"
      },
      {
        "path": "experiments/",
        "purpose": "Experiment configurations"
      },
      {
        "path": "data/",
        "purpose": "Data files"
      },
      {
        "path": "data/raw/",
        "purpose": "Raw data"
      },
      {
        "path": "data/processed/",
        "purpose": "Processed data"
      },
      {
        "path": "models/",
        "purpose": "Saved models"
      },
      {
        "path": "outputs/",
        "purpose": "Experiment outputs"
      },
      {
        "path": "tests/",
        "purpose": "Test files"
      },
      {
        "path": "docs/",
        "purpose": "Documentation"
      }
    ],
    "files": [
      {
        "path": ".agentrules",        "purpose": "Agent behavior rules"
      },
      {
        "path": "README.md",
        "purpose": "Project documentation"
      },
      {
        "path": "pyproject.toml",
        "purpose": "Python project config"
      },
      {
        "path": "requirements.txt",
        "purpose": "Dependencies"
      },
      {
        "path": "setup.py",
        "purpose": "Package setup"
      },
      {
        "path": "Makefile",
        "purpose": "Common commands"
      },
      {
        "path": ".env.example",
        "purpose": "Environment template"
      }
    ]
  },
  "cursorrules": {    "variables": [
      {
        "name": "PYTHON_PATH",
        "description": "Python executable path",
        "default": "python"
      },
      {
        "name": "MLFLOW_TRACKING_URI",
        "description": "MLflow server URI",
        "default": "sqlite:///mlflow.db"
      },
      {
        "name": "RANDOM_SEED",
        "description": "Random seed for reproducibility",
        "default": "42"
      }
    ],
    "rules": [
      {
        "name": "Reproducibility",
        "description": "Always set random seeds for reproducibility"
      },
      {
        "name": "Type Hints",
        "description": "Use type hints for all function parameters and returns"
      },
      {
        "name": "Docstrings",
        "description": "Use Google-style docstrings for all public functions"
      },
      {
        "name": "Experiment Tracking",
        "description": "Log all experiments with MLflow or W&B"
      },
      {
        "name": "Data Versioning",
        "description": "Version datasets and document data sources"
      },
      {
        "name": "Model Checkpointing",
        "description": "Save model checkpoints during training"
      },
      {
        "name": "Metrics Logging",
        "description": "Log all relevant metrics for comparison"
      }
    ]
  },
  "layerDefaults": {
    "layer0": {
      "coreAxioms": [
        "A1",
        "A2",
        "A3",
        "A4",
        "A5"
      ],
      "optionalAxioms": [
        "A10"
      ],
      "note": "A10 (Learning) essential for ML experimentation - continuous improvement"
    },
    "layer1": {
      "purposeTemplate": "To conduct rigorous ML experiments with reproducibility, proper tracking, and scientific integrity",
      "stakeholders": "Data scientists and ML engineers"
    },
    "layer3": {
      "methodology": "research-development",
      "note": "R&D methodology with 70/30 exploration/exploitation balance"
    }
  },
  "pmIntegration": {
    "enabled": false,
    "description": "Optional project management integration with agile workflows",
    "agents": [
      {"patternId": "product-owner", "description": "Creates and refines stories, prioritizes backlog"},
      {"patternId": "sprint-master", "description": "Facilitates sprint ceremonies and removes blockers"},
      {"patternId": "task-manager", "description": "Breaks stories into tasks, manages issues"},
      {"patternId": "reporting-agent", "description": "Generates metrics, burndowns, dashboards"}
    ],
    "skills": [
      {"patternId": "create-story", "description": "Create user stories with acceptance criteria"},
      {"patternId": "create-epic", "description": "Create epics with child story structure"},
      {"patternId": "create-task", "description": "Create implementation tasks"},
      {"patternId": "plan-sprint", "description": "Sprint planning workflow"},
      {"patternId": "run-standup", "description": "Daily standup facilitation"},
      {"patternId": "close-sprint", "description": "Sprint closure and velocity calculation"}
    ],
    "backends": ["github", "jira", "linear", "azure-devops"]
  }
}
